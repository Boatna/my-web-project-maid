<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏á‡∏≤‡∏ô‡πÅ‡∏°‡πà‡∏ö‡πâ‡∏≤‡∏ô - ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            gold: '#FFD700',
            silver: '#C0C0C0',
            bronze: '#CD7F32',
            primary: {
              50: '#eff6ff',
              100: '#dbeafe',
              500: '#3b82f6',
              600: '#2563eb',
              700: '#1d4ed8',
            }
          }
        }
      }
    }
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link rel="manifest" href="manifest.json" />
  <style>
    :root {
      --primary: #3b82f6;
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
      --gold: #FFD700;
      --silver: #C0C0C0;
      --bronze: #CD7F32;
    }
    
    body { 
      font-family: 'Sarabun', sans-serif; 
      background-color: #f8fafc;
    }
    
    .hidden { 
      display: none !important; 
    }
    
    /* Animations */
    .fade-in {
      animation: fadeIn 0.3s ease-in-out;
    }
    
    .slide-in {
      animation: slideIn 0.3s ease-out;
    }
    
    .bounce-in {
      animation: bounceIn 0.5s ease;
    }
    
    .pulse {
      animation: pulse 2s infinite;
    }
    
    .float {
      animation: float 3s ease-in-out infinite;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes slideIn {
      from { transform: translateX(100%); }
      to { transform: translateX(0); }
    }
    
    @keyframes bounceIn {
      0% { transform: scale(0.3); opacity: 0; }
      50% { transform: scale(1.05); }
      70% { transform: scale(0.9); }
      100% { transform: scale(1); opacity: 1; }
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    @keyframes progress {
      0% { width: 0%; }
      100% { width: var(--progress); }
    }
    
    @keyframes shimmer {
      0% { background-position: -1000px 0; }
      100% { background-position: 1000px 0; }
    }
    
    /* Loading */
    #loading-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.8);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      color: white;
    }
    
    .loader {
      border: 4px solid rgba(255,255,255,0.3);
      border-top: 4px solid white;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
    }
    
    /* Cards */
    .employee-card {
      transition: all 0.2s ease;
    }
    
    .employee-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }
    
    .task-card {
      transition: all 0.2s ease;
      border-left-width: 4px;
    }
    
    .task-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    
    /* Badges */
    .notification-badge {
      position: absolute;
      top: -6px;
      right: -6px;
      background: var(--danger);
      color: white;
      border-radius: 50%;
      width: 18px;
      height: 18px;
      font-size: 11px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
    }
    
    /* Progress Bars */
    .progress-container {
      height: 8px;
      background-color: #e5e7eb;
      border-radius: 4px;
      overflow: hidden;
    }
    
    .progress-bar {
      height: 100%;
      border-radius: 4px;
      transition: width 0.5s ease;
    }
    
    /* Toast */
    .toast {
      position: fixed;
      bottom: 24px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--success);
      color: white;
      padding: 12px 24px;
      border-radius: 12px;
      z-index: 9998;
      animation: toastIn 0.3s ease-out;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      max-width: 90%;
      text-align: center;
    }
    
    @keyframes toastIn {
      from { 
        opacity: 0; 
        transform: translateX(-50%) translateY(20px); 
      }
      to { 
        opacity: 1; 
        transform: translateX(-50%) translateY(0); 
      }
    }
    
    /* Medal Animations */
    .medal-gold {
      animation: pulse 2s infinite, float 3s ease-in-out infinite;
      filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.5));
    }
    
    .medal-silver {
      animation: float 3s ease-in-out infinite 0.5s;
    }
    
    .medal-bronze {
      animation: pulse 2s infinite 1s;
    }
    
    /* Grade Colors */
    .grade-a { color: #10b981; }
    .grade-b { color: #3b82f6; }
    .grade-c { color: #f59e0b; }
    .grade-d { color: #ef4444; }
    .grade-f { color: #dc2626; }
    
    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 6px;
    }
    
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 3px;
    }
    
    ::-webkit-scrollbar-thumb {
      background: #c1c1c1;
      border-radius: 3px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: #a1a1a1;
    }
    
    /* Print Styles */
    @media print {
      .no-print { display: none !important; }
      body { background: white; }
      .bg-gray-100 { background: white !important; }
      .shadow, .shadow-lg, .shadow-sm { box-shadow: none !important; }
    }
  </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

  <!-- Loading Overlay -->
  <div id="loading-overlay" class="hidden">
    <div class="loader mb-4"></div>
    <p class="text-lg font-medium" id="loading-text">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
    <p class="text-xs mt-2 opacity-80" id="loading-subtext">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà</p>
  </div>

  <!-- Level Up Celebration -->
  <div id="level-up-celebration" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/80">
    <div class="bg-gradient-to-br from-yellow-400 via-orange-500 to-red-500 p-8 rounded-3xl text-center text-white max-w-md mx-4 bounce-in">
      <div class="text-6xl mb-4 animate-bounce">üéâ</div>
      <h2 class="text-2xl font-bold mb-2">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢!</h2>
      <p class="text-xl mb-4" id="level-up-message"></p>
      <div class="bg-white/20 p-4 rounded-xl mb-4 backdrop-blur-sm">
        <div class="text-4xl font-bold" id="new-level">Level 0</div>
        <p class="text-sm opacity-90">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÉ‡∏´‡∏°‡πà‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
      </div>
      <button onclick="closeLevelUp()" class="bg-white text-orange-600 px-6 py-2 rounded-full font-bold hover:bg-orange-50 transition transform hover:scale-105">
        ‡∏ï‡∏Å‡∏•‡∏á
      </button>
    </div>
  </div>

  <!-- Achievement Unlocked -->
  <div id="achievement-popup" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/80">
    <div class="bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 p-8 rounded-3xl text-center text-white max-w-md mx-4 bounce-in">
      <div class="text-6xl mb-4 animate-bounce" id="achievement-icon">üèÜ</div>
      <h2 class="text-2xl font-bold mb-2">‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</h2>
      <p class="text-xl mb-4" id="achievement-title"></p>
      <div class="bg-white/20 p-4 rounded-xl mb-4 backdrop-blur-sm">
        <p class="text-sm mb-2" id="achievement-desc"></p>
        <div class="flex items-center justify-center text-yellow-300 text-lg">
          <i class="fas fa-star mr-2 animate-pulse"></i>
          <span class="font-bold" id="achievement-points">+10 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
        </div>
      </div>
      <button onclick="closeAchievement()" class="bg-white text-purple-600 px-6 py-2 rounded-full font-bold hover:bg-purple-50 transition transform hover:scale-105">
        ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏°‡∏≤‡∏Å!
      </button>
    </div>
  </div>

  <!-- Evaluation Report Modal -->
  <div id="evaluation-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4">
    <div class="bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col">
      <div class="bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 flex items-center justify-between">
        <div>
          <h2 class="font-bold text-lg">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</h2>
          <p class="text-sm opacity-90" id="evaluation-period"></p>
        </div>
        <div class="flex items-center space-x-2">
          <button onclick="printEvaluation()" class="p-2 hover:bg-blue-500/20 rounded-full">
            <i class="fas fa-print"></i>
          </button>
          <button onclick="closeEvaluation()" class="p-2 hover:bg-blue-500/20 rounded-full">
            <i class="fas fa-times"></i>
          </button>
        </div>
      </div>
      
      <div class="flex-1 overflow-y-auto p-6">
        <div id="evaluation-content"></div>
      </div>
      
      <div class="p-4 border-t bg-gray-50">
        <button onclick="closeEvaluation()" class="w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition">
          ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á
        </button>
      </div>
    </div>
  </div>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏°‡πà‡∏ö‡πâ‡∏≤‡∏ô -->
  <div id="home-screen" class="flex-1 flex flex-col items-center justify-center p-4 fade-in">
    <div class="bg-white p-6 rounded-2xl shadow-lg w-full max-w-md text-center mb-6 border border-gray-200">
      <div class="w-20 h-20 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg relative">
        <i class="fa-solid fa-crown text-white text-3xl"></i>
        <div class="absolute -top-2 -right-2 bg-yellow-500 text-white text-xs font-bold rounded-full w-8 h-8 flex items-center justify-center shadow-md">
          <i class="fas fa-star text-sm"></i>
        </div>
      </div>
      <h1 class="text-2xl font-bold text-gray-800 mb-2">‡∏£‡∏∞‡∏ö‡∏ö‡∏á‡∏≤‡∏ô‡πÅ‡∏°‡πà‡∏ö‡πâ‡∏≤‡∏ô</h1>
      <p class="text-gray-600 mb-3">‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</p>
      <div class="flex items-center justify-center space-x-4 text-sm">
        <div class="text-gray-500 flex items-center">
          <i class="fa-solid fa-calendar-day mr-1"></i>
          <span id="current-date">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: </span>
        </div>
        <div class="text-blue-600 font-medium flex items-center">
          <i class="fas fa-trophy mr-1"></i>
          <span>‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
        </div>
      </div>
    </div>
    
    <!-- Leaderboard Mini -->
    <div class="w-full max-w-md mb-6">
      <div class="bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-2xl shadow-lg">
        <div class="flex items-center justify-between mb-3">
          <h3 class="font-bold text-lg flex items-center">
            <i class="fas fa-trophy mr-2"></i> ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ
          </h3>
          <button onclick="openLeaderboard()" class="text-sm bg-white/20 px-3 py-1 rounded-full hover:bg-white/30 transition">
            ‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
          </button>
        </div>
        <div id="mini-leaderboard" class="space-y-3">
          <!-- ‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å JavaScript -->
        </div>
      </div>
    </div>
    
    <!-- Evaluation Summary -->
    <div class="w-full max-w-md mb-6">
      <div class="bg-white p-4 rounded-2xl shadow border border-gray-200">
        <h3 class="font-bold text-gray-800 mb-3 flex items-center">
          <i class="fas fa-chart-line text-green-600 mr-2"></i> ‡∏™‡∏£‡∏∏‡∏õ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
        </h3>
        <div id="evaluation-summary" class="text-center text-gray-500 py-4">
          <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</p>
        </div>
      </div>
    </div>
    
    <!-- ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô -->
    <div id="employee-list" class="w-full max-w-md space-y-4 pb-10">
      <!-- ‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å JavaScript -->
    </div>
  </div>

  <!-- ‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏á‡∏≤‡∏ô -->
  <div id="dashboard-screen" class="hidden flex flex-col min-h-screen fade-in">
    <!-- Header with Score -->
    <div class="bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 shadow-lg sticky top-0 z-10">
      <div class="flex justify-between items-center mb-3">
        <div class="flex-1">
          <div class="flex items-center">
            <div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center mr-3 relative">
              <i class="fa-solid fa-user text-white"></i>
              <div id="user-level-badge" class="absolute -top-1 -right-1 bg-yellow-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center text-[10px] shadow">
                1
              </div>
            </div>
            <div class="flex-1">
              <h2 id="user-name" class="font-bold text-lg truncate"></h2>
              <div class="flex items-center text-xs text-blue-200 mt-1">
                <i class="fa-solid fa-id-card mr-1"></i>
                <span id="user-id" class="truncate"></span>
                <span class="mx-2">‚Ä¢</span>
                <i class="fas fa-star text-yellow-300 mr-1"></i>
                <span id="user-score">0 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
              </div>
            </div>
          </div>
        </div>
        <div class="flex items-center">
          <button onclick="openEvaluation()" class="p-2 mr-2 rounded-full hover:bg-blue-500/20 transition relative">
            <i class="fas fa-chart-line text-lg"></i>
          </button>
          <button onclick="openLeaderboard()" class="p-2 mr-2 rounded-full hover:bg-blue-500/20 transition">
            <i class="fas fa-trophy text-lg"></i>
          </button>
          <button onclick="goBack()" class="p-2 rounded-full hover:bg-blue-500/20 transition">
            <i class="fa-solid fa-arrow-right-from-bracket text-lg"></i>
          </button>
        </div>
      </div>
      
      <!-- Score Progress -->
      <div class="mt-3">
        <div class="flex justify-between text-sm mb-1">
          <span>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ: <span id="today-score" class="font-bold">0</span> ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
          <span>‡∏£‡∏∞‡∏î‡∏±‡∏ö: <span id="user-level" class="font-bold">1</span></span>
        </div>
        <div class="w-full bg-white/30 rounded-full h-2.5 mb-1">
          <div id="score-progress-bar" class="progress-bar h-2.5 rounded-full bg-gradient-to-r from-green-400 to-blue-500" style="width: 0%"></div>
        </div>
        <div class="flex justify-between text-xs text-blue-200">
          <span id="current-exp">0 EXP</span>
          <span id="next-level-exp">100 EXP</span>
        </div>
      </div>
    </div>

    <!-- Task Section -->
    <div class="bg-white p-4 border-b border-gray-200 shadow-sm">
      <div class="flex items-center justify-between">
        <div class="flex items-center">
          <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-2">
            <i class="fa-solid fa-list-check text-blue-600"></i>
          </div>
          <h3 class="font-bold text-gray-800">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</h3>
        </div>
        <div class="flex items-center space-x-2">
          <div class="text-sm text-gray-600 bg-gray-100 px-3 py-1.5 rounded-lg">
            <i class="fas fa-coins text-yellow-500 mr-1"></i>
            <span>+<span id="task-point-value">10</span> ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô/‡∏á‡∏≤‡∏ô</span>
          </div>
          <button onclick="syncTasks()" class="text-blue-600 text-sm font-medium flex items-center bg-blue-50 px-3 py-1.5 rounded-lg hover:bg-blue-100 transition">
            <i class="fa-solid fa-rotate mr-1"></i> ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï
          </button>
        </div>
      </div>
      <div class="mt-2 text-sm text-gray-600">
        ‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏ö‡∏£‡∏±‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©‡πÅ‡∏•‡∏∞‡πÇ‡∏ö‡∏ô‡∏±‡∏™!
      </div>
    </div>

    <!-- Task List -->
    <div class="flex-1 overflow-y-auto p-4 pb-24 bg-gray-50">
      <div id="task-filter" class="mb-4">
        <div class="flex space-x-2 overflow-x-auto pb-2">
          <button onclick="filterTasks('all')" class="filter-btn px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-medium whitespace-nowrap shadow">
            ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
          </button>
          <button onclick="filterTasks('pending')" class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm font-medium whitespace-nowrap">
            ‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£
          </button>
          <button onclick="filterTasks('completed')" class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm font-medium whitespace-nowrap">
            ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß
          </button>
          <button onclick="filterTasks('high_score')" class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm font-medium whitespace-nowrap">
            ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á
          </button>
        </div>
      </div>
      
      <div id="task-list" class="space-y-4">
        <!-- ‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å JavaScript -->
      </div>
      
      <!-- Bonus Points Info -->
      <div class="mt-6 bg-gradient-to-r from-green-500 to-emerald-600 text-white p-4 rounded-xl shadow-lg">
        <div class="flex items-center justify-between mb-2">
          <h4 class="font-bold flex items-center">
            <i class="fas fa-gift mr-2"></i> ‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ
          </h4>
          <span class="bg-white/20 px-3 py-1 rounded-lg text-sm font-bold">+<span id="bonus-points">50</span> ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
        </div>
        <p class="text-sm opacity-90 mb-2">‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡∏¥‡πâ‡∏ô‡∏Å‡πà‡∏≠‡∏ô 16:00 ‡∏ô.</p>
        <div class="w-full bg-white/30 rounded-full h-2.5 mb-1">
          <div id="bonus-progress" class="bg-yellow-400 h-2.5 rounded-full" style="width: 0%"></div>
        </div>
        <div class="flex justify-between text-xs mt-1">
          <span>‡∏™‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß: <span id="completed-for-bonus">0</span>/<span id="total-for-bonus">0</span></span>
          <span id="bonus-time-left">‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤: --:--</span>
        </div>
      </div>
      
      <!-- Daily Goals -->
      <div class="mt-4 bg-white p-4 rounded-xl shadow border border-gray-200">
        <div class="flex items-center justify-between mb-3">
          <h4 class="font-bold text-gray-800 flex items-center">
            <i class="fas fa-bullseye mr-2 text-blue-600"></i> ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô
          </h4>
          <div class="flex items-center space-x-2">
            <span class="text-sm text-gray-600" id="daily-goal-status">0/5 ‡∏á‡∏≤‡∏ô</span>
            <span class="text-sm font-bold text-green-600" id="daily-goal-score">+0 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
          </div>
        </div>
        
        <div class="space-y-3">
          <div class="flex items-center justify-between p-2 hover:bg-gray-50 rounded-lg transition">
            <div class="flex items-center">
              <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3">
                <i class="fas fa-tasks text-blue-600 text-sm"></i>
              </div>
              <div>
                <div class="text-sm font-medium text-gray-700">‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏ö 5 ‡∏ä‡∏¥‡πâ‡∏ô</div>
                <div class="text-xs text-gray-500">‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô</div>
              </div>
            </div>
            <div class="text-right">
              <div class="text-sm font-bold text-green-600">+30 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
              <div class="text-xs text-gray-500" id="goal-1-status">0/5</div>
            </div>
          </div>
          
          <div class="flex items-center justify-between p-2 hover:bg-gray-50 rounded-lg transition">
            <div class="flex items-center">
              <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center mr-3">
                <i class="fas fa-clock text-green-600 text-sm"></i>
              </div>
              <div>
                <div class="text-sm font-medium text-gray-700">‡∏™‡πà‡∏á‡∏ï‡∏£‡∏á‡πÄ‡∏ß‡∏•‡∏≤ 5 ‡∏á‡∏≤‡∏ô</div>
                <div class="text-xs text-gray-500">‡∏Å‡πà‡∏≠‡∏ô 16:00 ‡∏ô.</div>
              </div>
            </div>
            <div class="text-right">
              <div class="text-sm font-bold text-green-600">+25 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
              <div class="text-xs text-gray-500" id="goal-2-status">0/5</div>
            </div>
          </div>
          
          <div class="flex items-center justify-between p-2 hover:bg-gray-50 rounded-lg transition">
            <div class="flex items-center">
              <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-3">
                <i class="fas fa-camera text-purple-600 text-sm"></i>
              </div>
              <div>
                <div class="text-sm font-medium text-gray-700">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û 3 ‡∏á‡∏≤‡∏ô</div>
                <div class="text-xs text-gray-500">‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô</div>
              </div>
            </div>
            <div class="text-right">
              <div class="text-sm font-bold text-green-600">+20 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
              <div class="text-xs text-gray-500" id="goal-3-status">0/3</div>
            </div>
          </div>
        </div>
        
        <div class="mt-4 pt-3 border-t border-gray-200">
          <div class="flex justify-between items-center">
            <span class="text-sm font-medium text-gray-700">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏£‡∏ß‡∏°</span>
            <span class="text-lg font-bold text-blue-600" id="total-goal-points">+75 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
          </div>
        </div>
      </div>
      
      <!-- Empty State -->
      <div id="empty-state" class="hidden text-center text-gray-400 mt-16">
        <div class="w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <i class="fa-regular fa-face-smile-beam text-4xl text-gray-400"></i>
        </div>
        <p class="text-lg font-medium text-gray-500">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</p>
        <p class="text-sm mt-1 text-gray-400">‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß!</p>
        <button onclick="openEvaluation()" class="mt-4 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg text-sm font-medium shadow hover:shadow-md transition">
          <i class="fas fa-chart-line mr-1"></i> ‡∏î‡∏π‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô
        </button>
      </div>
    </div>
  </div>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô -->
  <div id="submit-screen" class="hidden flex flex-col min-h-screen bg-gray-100 z-50 slide-in">
    <div class="bg-white p-4 shadow-lg flex items-center sticky top-0 border-b z-10">
      <button onclick="closeSubmitScreen()" class="p-2 mr-2 text-gray-600 hover:bg-gray-100 rounded-full transition">
        <i class="fa-solid fa-arrow-left text-lg"></i>
      </button>
      <div class="flex-1">
        <h2 class="font-bold text-gray-800">‡∏™‡πà‡∏á‡∏ú‡∏•‡∏á‡∏≤‡∏ô</h2>
        <p class="text-xs text-gray-500">‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</p>
      </div>
      <div class="bg-gradient-to-r from-yellow-500 to-yellow-600 px-4 py-1.5 rounded-full shadow">
        <span class="text-white font-bold text-sm">+<span id="submit-points">10</span> ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
      </div>
    </div>
    
    <div class="flex-1 overflow-y-auto p-4">
      <!-- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏á‡∏≤‡∏ô -->
      <div class="bg-white rounded-xl p-5 shadow border border-gray-200 mb-5">
        <div class="flex items-start mb-4">
          <div class="w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center mr-3 flex-shrink-0 shadow relative">
            <i class="fa-solid fa-clipboard-check text-white text-lg"></i>
            <div class="absolute -top-1 -right-1 bg-yellow-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center shadow">
              <i class="fas fa-coins text-[10px]"></i>
            </div>
          </div>
          <div class="flex-1">
            <h3 id="task-name" class="font-bold text-gray-800 text-lg mb-1 truncate"></h3>
            <div class="flex items-center text-sm text-gray-600">
              <span id="task-freq" class="text-green-600 font-medium mr-3 bg-green-50 px-2 py-0.5 rounded text-xs"></span>
              <span class="text-xs bg-gray-100 px-2 py-1 rounded">
                <i class="fa-solid fa-id-card mr-1"></i>
                <span id="task-id" class="font-mono"></span>
              </span>
            </div>
          </div>
        </div>
        
        <!-- Score Breakdown -->
        <div class="mb-4 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-xl">
          <h4 class="font-bold text-gray-700 mb-3 flex items-center">
            <i class="fas fa-star text-yellow-500 mr-2"></i> ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
          </h4>
          <div class="space-y-3">
            <div class="flex justify-between items-center">
              <div class="flex items-center">
                <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-2">
                  <i class="fas fa-check text-blue-600 text-sm"></i>
                </div>
                <span class="text-gray-600">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô</span>
              </div>
              <span class="font-bold text-green-600">+10 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
            </div>
            
            <div class="flex justify-between items-center">
              <div class="flex items-center">
                <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center mr-2">
                  <i class="fas fa-clock text-green-600 text-sm"></i>
                </div>
                <span class="text-gray-600">‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏™‡πà‡∏á‡∏ï‡∏£‡∏á‡πÄ‡∏ß‡∏•‡∏≤</span>
              </div>
              <span class="font-bold text-green-600" id="bonus-timely">+5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
            </div>
            
            <div class="flex justify-between items-center">
              <div class="flex items-center">
                <div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center mr-2">
                  <i class="fas fa-camera text-purple-600 text-sm"></i>
                </div>
                <span class="text-gray-600">‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏†‡∏≤‡∏û‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û</span>
              </div>
              <span class="font-bold text-green-600" id="bonus-quality">+5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
            </div>
            
            <div class="pt-3 border-t border-yellow-200">
              <div class="flex justify-between items-center font-bold">
                <span class="text-gray-800">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°</span>
                <span class="text-xl text-blue-600" id="total-points-preview">20 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Task Details -->
        <div class="bg-blue-50 p-4 rounded-xl border border-blue-100 mb-4">
          <div class="flex items-center mb-3">
            <i class="fa-solid fa-circle-info text-blue-500 mr-2"></i>
            <span class="font-medium text-blue-700">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏á‡∏≤‡∏ô</span>
          </div>
          <p id="task-desc" class="text-sm text-gray-700 mb-2"></p>
          <div class="flex items-center text-xs text-gray-500 mt-2">
            <i class="fa-solid fa-clock mr-1"></i>
            <span>‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: <span id="task-time" class="font-medium"></span></span>
          </div>
        </div>
      </div>

      <!-- ‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û -->
      <div class="bg-white rounded-xl p-5 shadow border border-gray-200 mb-4">
        <label class="block font-bold text-gray-700 mb-3 flex items-center">
          <i class="fa-solid fa-camera text-blue-600 mr-2"></i> ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏ú‡∏•‡∏á‡∏≤‡∏ô
          <span class="ml-2 text-xs bg-gradient-to-r from-purple-500 to-pink-500 text-white px-2 py-1 rounded">+5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
        </label>
        
        <div class="mb-4">
          <div class="grid grid-cols-2 gap-2 mb-3">
            <button onclick="openCamera()" class="bg-blue-50 text-blue-600 py-3 rounded-lg text-sm font-medium border border-blue-200 hover:bg-blue-100 transition flex items-center justify-center">
              <i class="fa-solid fa-camera mr-2"></i> ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡πÉ‡∏´‡∏°‡πà
            </button>
            <button onclick="openGallery()" class="bg-gray-100 text-gray-700 py-3 rounded-lg text-sm font-medium border border-gray-300 hover:bg-gray-200 transition flex items-center justify-center">
              <i class="fa-solid fa-images mr-2"></i> ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ
            </button>
          </div>
          <p class="text-xs text-gray-500 text-center">‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö JPG, PNG ‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5MB</p>
        </div>
        
        <input type="file" id="file-input" accept="image/*" class="hidden" onchange="previewImage(this.files[0])" />
        <input type="file" id="camera-input" accept="image/*" capture="environment" class="hidden" onchange="previewImage(this.files[0])" />
        
        <div id="upload-area" class="border-2 border-dashed border-gray-300 rounded-xl h-56 flex items-center justify-center cursor-pointer bg-gray-50 relative overflow-hidden transition-all hover:border-blue-400 hover:bg-blue-50" onclick="openGallery()">
          <div id="upload-placeholder" class="text-center z-10">
            <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-3 shadow">
              <i class="fa-solid fa-cloud-arrow-up text-2xl text-gray-400"></i>
            </div>
            <p class="text-gray-500 text-sm font-medium">‡πÅ‡∏ï‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</p>
            <p class="text-gray-400 text-xs mt-1">‡∏•‡∏≤‡∏Å‡∏ß‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÑ‡∏î‡πâ</p>
          </div>
          <img id="image-preview" class="hidden w-full h-full object-cover rounded-xl" />
          <button onclick="removeImage(event)" class="hidden absolute top-3 right-3 bg-red-500 text-white p-2 rounded-full shadow-lg hover:bg-red-600 z-20 transition" id="remove-image-btn">
            <i class="fa-solid fa-times"></i>
          </button>
          <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 hover:opacity-100 transition-opacity" id="image-overlay"></div>
        </div>
        
        <div class="mt-3 flex items-center text-xs text-gray-500">
          <i class="fa-solid fa-circle-exclamation mr-2 text-green-500"></i>
          <span>‡∏†‡∏≤‡∏û‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏†‡∏≤‡∏û‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡πÄ‡∏ï‡πá‡∏°</span>
        </div>
      </div>

      <!-- ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏© -->
      <div class="bg-white rounded-xl p-4 shadow border border-gray-200 mb-4">
        <label class="block font-bold text-gray-700 mb-2 flex items-center">
          <i class="fa-solid fa-pen-to-square text-blue-600 mr-2"></i> ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ (‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©)
        </label>
        <textarea id="task-note" placeholder="‡∏£‡∏∞‡∏ö‡∏∏‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö / ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞ / ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏©‡∏Ç‡∏≠‡∏á‡∏á‡∏≤‡∏ô (‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏î‡∏µ‡πÑ‡∏î‡πâ +5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô)" class="w-full p-3 border border-gray-300 rounded-lg text-sm h-28 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition" oninput="updateNoteBonus()"></textarea>
        <div class="flex justify-between items-center mt-2 text-xs text-gray-500">
          <div class="flex items-center">
            <i class="fa-solid fa-info-circle mr-1"></i>
            <span>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°</span>
          </div>
          <span class="font-bold text-green-600" id="note-bonus">+0 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
        </div>
      </div>
      
      <!-- Time Bonus -->
      <div class="bg-white rounded-xl p-4 shadow border border-gray-200 mb-6">
        <div class="flex items-center justify-between mb-3">
          <div class="flex items-center">
            <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-3">
              <i class="fa-solid fa-clock text-green-600"></i>
            </div>
            <div>
              <div class="font-medium text-gray-700">‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏™‡πà‡∏á‡∏ï‡∏£‡∏á‡πÄ‡∏ß‡∏•‡∏≤</div>
              <div class="text-xs text-gray-500">‡∏™‡πà‡∏á‡∏Å‡πà‡∏≠‡∏ô <span id="deadline-time" class="font-medium">16:00 ‡∏ô.</span></div>
            </div>
          </div>
          <span class="font-bold text-xl text-green-600" id="time-bonus-status">+5</span>
        </div>
        
        <div class="mb-2">
          <div class="w-full bg-gray-200 rounded-full h-2">
            <div id="time-progress" class="bg-green-500 h-2 rounded-full transition-all duration-1000" style="width: 100%"></div>
          </div>
        </div>
        
        <div class="flex justify-between text-xs text-gray-500">
          <span id="current-time">‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: </span>
          <span id="time-remaining">‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤: </span>
        </div>
      </div>
    </div>
    
    <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô -->
    <div class="p-4 bg-white border-t shadow-lg">
      <div class="mb-4 bg-gradient-to-r from-blue-50 to-blue-100 p-4 rounded-xl border border-blue-200">
        <div class="flex justify-between items-center mb-1">
          <span class="font-medium text-gray-700">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö</span>
          <span class="text-2xl font-bold text-blue-600" id="total-points-display">20 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
        </div>
        <div class="text-xs text-gray-600">‡∏£‡∏ß‡∏°‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô, ‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏†‡∏≤‡∏û, ‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡πÄ‡∏ß‡∏•‡∏≤, ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</div>
      </div>
      
      <button onclick="submitWork()" class="w-full bg-gradient-to-r from-green-600 to-green-700 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200 flex items-center justify-center">
        <i class="fas fa-star mr-2"></i> ‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
      </button>
      <p class="text-center text-xs text-gray-500 mt-2">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô</p>
    </div>
  </div>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ -->
  <div id="score-screen" class="hidden flex flex-col min-h-screen bg-gray-100 z-50 slide-in">
    <div class="bg-gradient-to-r from-purple-600 to-purple-700 text-white p-4 shadow-lg flex items-center sticky top-0 border-b z-10">
      <button onclick="closeScoreScreen()" class="p-2 mr-2 text-white hover:bg-purple-500/20 rounded-full transition">
        <i class="fa-solid fa-arrow-left text-lg"></i>
      </button>
      <div class="flex-1">
        <h2 class="font-bold text-lg">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</h2>
        <p class="text-xs text-purple-200">‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
      </div>
    </div>
    
    <div class="flex-1 overflow-y-auto p-4 pb-24">
      <!-- Profile Card -->
      <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-2xl p-5 shadow-lg mb-6">
        <div class="flex items-center mb-4">
          <div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mr-4 relative">
            <i class="fa-solid fa-user text-2xl"></i>
            <div class="absolute -top-1 -right-1 bg-yellow-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center shadow">
              <span id="level-badge">1</span>
            </div>
          </div>
          <div class="flex-1">
            <h3 class="font-bold text-xl truncate" id="score-user-name"></h3>
            <p class="text-blue-100 text-sm truncate" id="score-user-id"></p>
            <div class="flex items-center mt-1">
              <i class="fas fa-star text-yellow-300 mr-2"></i>
              <span class="font-bold text-2xl" id="total-score-display">0</span>
              <span class="text-blue-100 ml-2 text-lg">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
            </div>
          </div>
        </div>
        
        <!-- Level Progress -->
        <div class="mb-4">
          <div class="flex justify-between text-sm mb-2">
            <span>‡∏£‡∏∞‡∏î‡∏±‡∏ö <span id="current-level" class="font-bold">1</span></span>
            <span><span id="current-exp-display" class="font-bold">0</span>/<span id="next-level-exp-display" class="font-bold">100</span> EXP</span>
          </div>
          <div class="w-full bg-white/30 rounded-full h-3 mb-1">
            <div id="level-progress-bar" class="h-3 rounded-full bg-gradient-to-r from-green-400 to-blue-500" style="width: 0%"></div>
          </div>
          <div class="text-xs text-center text-blue-200">
            ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ <span id="exp-to-next" class="font-bold">100</span> EXP ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏∂‡πâ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ï‡πà‡∏≠‡πÑ‡∏õ
          </div>
        </div>
        
        <!-- Quick Stats -->
        <div class="flex justify-between items-center pt-3 border-t border-white/20">
          <div class="text-center">
            <div class="text-sm text-blue-200">‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö</div>
            <div class="text-xl font-bold" id="user-rank">-</div>
          </div>
          <div class="text-center">
            <div class="text-sm text-blue-200">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢/‡∏ß‡∏±‡∏ô</div>
            <div class="text-xl font-bold" id="avg-score">0</div>
          </div>
          <div class="text-center">
            <div class="text-sm text-blue-200">‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</div>
            <div class="text-xl font-bold" id="total-completed">0</div>
          </div>
        </div>
      </div>
      
      <!-- Evaluation Summary -->
      <div class="bg-white rounded-xl p-5 shadow border border-gray-200 mb-6">
        <div class="flex items-center justify-between mb-4">
          <h3 class="font-bold text-gray-800 flex items-center">
            <i class="fas fa-chart-line text-blue-600 mr-2"></i> ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
          </h3>
          <button onclick="openEvaluation()" class="text-sm bg-blue-50 text-blue-600 px-3 py-1.5 rounded-lg hover:bg-blue-100 transition">
            <i class="fas fa-expand mr-1"></i> ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
          </button>
        </div>
        
        <div class="mb-4">
          <div class="flex items-center justify-between mb-2">
            <span class="text-gray-700">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏£‡∏ß‡∏°</span>
            <span class="font-bold text-lg" id="evaluation-score">0</span>
          </div>
          <div class="w-full bg-gray-200 rounded-full h-3">
            <div id="evaluation-progress" class="h-3 rounded-full bg-gradient-to-r from-green-400 to-blue-500" style="width: 0%"></div>
          </div>
          <div class="flex justify-between text-xs text-gray-500 mt-1">
            <span>0%</span>
            <span>100%</span>
          </div>
        </div>
        
        <div class="grid grid-cols-2 gap-3">
          <div class="text-center p-3 bg-gray-50 rounded-lg">
            <div class="text-sm text-gray-600">‡πÄ‡∏Å‡∏£‡∏î</div>
            <div class="text-2xl font-bold grade-a" id="evaluation-grade">-</div>
          </div>
          <div class="text-center p-3 bg-gray-50 rounded-lg">
            <div class="text-sm text-gray-600">‡∏£‡∏∞‡∏î‡∏±‡∏ö</div>
            <div class="text-2xl font-bold text-blue-600" id="evaluation-level">-</div>
          </div>
        </div>
      </div>
      
      <!-- Daily Stats -->
      <div class="bg-white rounded-xl p-5 shadow border border-gray-200 mb-6">
        <h3 class="font-bold text-gray-800 mb-4 flex items-center">
          <i class="fas fa-chart-bar text-blue-600 mr-2"></i> ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ
        </h3>
        
        <div class="grid grid-cols-2 gap-4 mb-4">
          <div class="bg-blue-50 p-4 rounded-lg border border-blue-100">
            <div class="text-sm text-gray-600">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
            <div class="text-2xl font-bold text-blue-600" id="today-score-detail">0</div>
          </div>
          <div class="bg-green-50 p-4 rounded-lg border border-green-100">
            <div class="text-sm text-gray-600">‡∏á‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
            <div class="text-2xl font-bold text-green-600" id="today-completed">0/<span id="today-total">0</span></div>
          </div>
        </div>
        
        <div class="space-y-3">
          <div class="flex justify-between items-center p-2 hover:bg-gray-50 rounded-lg transition">
            <span class="text-gray-600">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô</span>
            <span class="font-medium" id="base-points-today">0</span>
          </div>
          <div class="flex justify-between items-center p-2 hover:bg-gray-50 rounded-lg transition">
            <span class="text-gray-600">‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏™‡πà‡∏á‡∏ï‡∏£‡∏á‡πÄ‡∏ß‡∏•‡∏≤</span>
            <span class="font-medium text-green-600" id="timely-bonus-today">+0</span>
          </div>
          <div class="flex justify-between items-center p-2 hover:bg-gray-50 rounded-lg transition">
            <span class="text-gray-600">‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏†‡∏≤‡∏û‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û</span>
            <span class="font-medium text-green-600" id="quality-bonus-today">+0</span>
          </div>
          <div class="flex justify-between items-center p-2 hover:bg-gray-50 rounded-lg transition">
            <span class="text-gray-600">‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</span>
            <span class="font-medium text-green-600" id="note-bonus-today">+0</span>
          </div>
          <div class="pt-3 border-t">
            <div class="flex justify-between items-center font-bold">
              <span class="text-gray-800">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</span>
              <span class="text-blue-600" id="total-today">0 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Weekly Stats -->
      <div class="bg-white rounded-xl p-5 shadow border border-gray-200 mb-6">
        <h3 class="font-bold text-gray-800 mb-4 flex items-center">
          <i class="fas fa-calendar-week text-green-600 mr-2"></i> ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ô‡∏µ‡πâ
        </h3>
        
        <div class="mb-4">
          <div class="flex justify-between text-sm mb-2">
            <span class="text-gray-600">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ô‡∏µ‡πâ</span>
            <span class="font-bold text-green-600" id="weekly-total">0</span>
          </div>
          <div class="w-full bg-gray-200 rounded-full h-3">
            <div id="weekly-progress" class="h-3 rounded-full bg-gradient-to-r from-green-400 to-blue-500" style="width: 0%"></div>
          </div>
          <div class="text-xs text-gray-500 text-center mt-1">
            ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå: <span id="weekly-goal" class="font-bold">500</span> ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
          </div>
        </div>
        
        <div class="grid grid-cols-3 gap-2">
          <div class="text-center p-2 bg-gray-50 rounded border">
            <div class="text-xs text-gray-500">‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå</div>
            <div class="font-bold text-lg" id="day-1">0</div>
          </div>
          <div class="text-center p-2 bg-gray-50 rounded border">
            <div class="text-xs text-gray-500">‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£</div>
            <div class="font-bold text-lg" id="day-2">0</div>
          </div>
          <div class="text-center p-2 bg-gray-50 rounded border">
            <div class="text-xs text-gray-500">‡∏û‡∏∏‡∏ò</div>
            <div class="font-bold text-lg" id="day-3">0</div>
          </div>
          <div class="text-center p-2 bg-gray-50 rounded border">
            <div class="text-xs text-gray-500">‡∏û‡∏§‡∏´‡∏±‡∏™</div>
            <div class="font-bold text-lg" id="day-4">0</div>
          </div>
          <div class="text-center p-2 bg-gray-50 rounded border">
            <div class="text-xs text-gray-500">‡∏®‡∏∏‡∏Å‡∏£‡πå</div>
            <div class="font-bold text-lg" id="day-5">0</div>
          </div>
          <div class="text-center p-2 bg-gray-50 rounded border">
            <div class="text-xs text-gray-500">‡πÄ‡∏™‡∏≤‡∏£‡πå</div>
            <div class="font-bold text-lg" id="day-6">0</div>
          </div>
        </div>
      </div>
      
      <!-- Achievements -->
      <div class="bg-white rounded-xl p-5 shadow border border-gray-200">
        <h3 class="font-bold text-gray-800 mb-4 flex items-center">
          <i class="fas fa-trophy text-yellow-500 mr-2"></i> ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
        </h3>
        
        <div id="achievements-list" class="space-y-3">
          <!-- ‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å JavaScript -->
        </div>
        
        <div id="no-achievements" class="hidden text-center text-gray-400 py-8">
          <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3">
            <i class="fas fa-trophy text-2xl text-gray-300"></i>
          </div>
          <p class="text-gray-500">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</p>
          <p class="text-sm text-gray-400 mt-1">‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!</p>
        </div>
      </div>
    </div>
  </div>

  <!-- ‡∏´‡∏ô‡πâ‡∏≤ Leaderboard -->
  <div id="leaderboard-screen" class="hidden flex flex-col min-h-screen bg-gray-100 z-50 slide-in">
    <div class="bg-gradient-to-r from-yellow-600 to-orange-600 text-white p-4 shadow-lg flex items-center sticky top-0 border-b z-10">
      <button onclick="closeLeaderboard()" class="p-2 mr-2 text-white hover:bg-yellow-500/20 rounded-full transition">
        <i class="fa-solid fa-arrow-left text-lg"></i>
      </button>
      <div class="flex-1">
        <h2 class="font-bold text-lg">‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h2>
        <p class="text-xs text-yellow-200">‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ï‡∏≤‡∏°‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</p>
      </div>
      <div class="flex space-x-1">
        <button onclick="changeLeaderboardPeriod('daily')" id="lb-daily" class="text-xs bg-white/30 px-3 py-1.5 rounded-lg font-medium">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</button>
        <button onclick="changeLeaderboardPeriod('weekly')" id="lb-weekly" class="text-xs bg-white/10 px-3 py-1.5 rounded-lg font-medium hover:bg-white/20">‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå</button>
        <button onclick="changeLeaderboardPeriod('monthly')" id="lb-monthly" class="text-xs bg-white/10 px-3 py-1.5 rounded-lg font-medium hover:bg-white/20">‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</button>
      </div>
    </div>
    
    <div class="flex-1 overflow-y-auto p-4 pb-24">
      <!-- Top 3 Podium -->
      <div class="mb-6">
        <div class="flex justify-center items-end space-x-2 md:space-x-4 h-52">
          <!-- 2nd Place -->
          <div class="flex-1 max-w-28 md:max-w-32 text-center">
            <div class="bg-gradient-to-b from-gray-300 to-gray-400 h-40 rounded-t-xl flex items-end justify-center relative">
              <div class="absolute -top-10 left-1/2 transform -translate-x-1/2">
                <div class="w-12 h-12 bg-gray-300 rounded-full flex items-center justify-center shadow-lg">
                  <i class="fas fa-user text-gray-600 text-xl"></i>
                </div>
                <div class="absolute -top-2 -right-2 w-8 h-8 bg-gray-400 rounded-full flex items-center justify-center shadow">
                  <span class="text-white font-bold text-sm">2</span>
                </div>
              </div>
              <div class="bg-white p-2 rounded-lg mb-3 mx-2 shadow">
                <div class="font-bold text-gray-800 text-xs truncate" id="second-place-name">-</div>
                <div class="text-xs text-gray-600" id="second-place-score">0</div>
              </div>
            </div>
          </div>
          
          <!-- 1st Place -->
          <div class="flex-1 max-w-36 md:max-w-40 text-center">
            <div class="bg-gradient-to-b from-yellow-400 to-yellow-500 h-52 rounded-t-xl flex items-end justify-center relative">
              <div class="absolute -top-12 left-1/2 transform -translate-x-1/2">
                <div class="w-16 h-16 bg-yellow-500 rounded-full flex items-center justify-center shadow-lg medal-gold">
                  <i class="fas fa-crown text-white text-2xl"></i>
                </div>
                <div class="absolute -top-2 -right-2 w-10 h-10 bg-yellow-600 rounded-full flex items-center justify-center shadow">
                  <span class="text-white font-bold text-lg">1</span>
                </div>
              </div>
              <div class="bg-white p-3 rounded-lg mb-3 mx-2 shadow-lg">
                <div class="font-bold text-gray-800 text-sm truncate" id="first-place-name">-</div>
                <div class="text-sm text-yellow-600 font-bold" id="first-place-score">0</div>
              </div>
            </div>
          </div>
          
          <!-- 3rd Place -->
          <div class="flex-1 max-w-28 md:max-w-32 text-center">
            <div class="bg-gradient-to-b from-amber-700 to-amber-800 h-32 rounded-t-xl flex items-end justify-center relative">
              <div class="absolute -top-8 left-1/2 transform -translate-x-1/2">
                <div class="w-10 h-10 bg-amber-700 rounded-full flex items-center justify-center shadow-lg">
                  <i class="fas fa-user text-amber-200 text-lg"></i>
                </div>
                <div class="absolute -top-2 -right-2 w-7 h-7 bg-amber-800 rounded-full flex items-center justify-center shadow">
                  <span class="text-white font-bold text-xs">3</span>
                </div>
              </div>
              <div class="bg-white p-2 rounded-lg mb-3 mx-2 shadow">
                <div class="font-bold text-gray-800 text-xs truncate" id="third-place-name">-</div>
                <div class="text-xs text-gray-600" id="third-place-score">0</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Leaderboard List -->
      <div class="bg-white rounded-xl shadow border border-gray-200 overflow-hidden mb-4">
        <div class="p-4 border-b bg-gray-50">
          <div class="flex justify-between items-center">
            <div>
              <h3 class="font-bold text-gray-800">‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>
              <p class="text-xs text-gray-500">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î <span id="leaderboard-updated">-</span></p>
            </div>
            <div class="text-xs text-gray-600">
              ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <span id="total-employees">0</span>
            </div>
          </div>
        </div>
        
        <div id="leaderboard-list" class="divide-y">
          <!-- ‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å JavaScript -->
        </div>
        
        <div id="leaderboard-empty" class="hidden text-center text-gray-400 py-8">
          <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3">
            <i class="fas fa-trophy text-2xl text-gray-300"></i>
          </div>
          <p class="text-gray-500">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</p>
          <p class="text-sm text-gray-400 mt-1">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏¥‡∏î‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö!</p>
        </div>
      </div>
      
      <!-- User Position -->
      <div id="user-position-card" class="hidden bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl p-4 shadow-lg">
        <div class="flex items-center justify-between">
          <div class="flex items-center">
            <div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center mr-3">
              <i class="fa-solid fa-user"></i>
            </div>
            <div>
              <div class="font-bold truncate" id="user-lb-name"></div>
              <div class="text-sm text-blue-200">‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà <span id="user-lb-rank" class="font-bold">-</span></div>
            </div>
          </div>
          <div class="text-right">
            <div class="text-2xl font-bold" id="user-lb-score">0</div>
            <div class="text-sm text-blue-200">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast Notification -->
  <div id="toast" class="hidden toast"></div>

  <script>
    // üî¥ Web App URL (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á)
    const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/YOUR_SCRIPT_URL/exec";
    
    // =============================================
    // ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•
    // =============================================
    const SCORE_SYSTEM = {
      // ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô
      BASE_SCORES: {
        PER_TASK: 10,
        COMPLETE_ALL: 50,
        DAILY_GOAL: 30
      },
      
      // ‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û
      QUALITY_BONUSES: {
        ON_TIME: 5,
        GOOD_PHOTO: 5,
        GOOD_NOTE: 5
      },
      
      // ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÅ‡∏•‡∏∞ EXP
      LEVELS: [
        { level: 1, exp: 0, title: "‡∏°‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà", color: "#9CA3AF" },
        { level: 2, exp: 100, title: "‡∏ù‡∏∂‡∏Å‡∏´‡∏±‡∏î", color: "#6B7280" },
        { level: 3, exp: 300, title: "‡∏°‡∏∑‡∏≠‡∏≠‡∏≤‡∏ä‡∏µ‡∏û", color: "#3B82F6" },
        { level: 4, exp: 600, title: "‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç", color: "#10B981" },
        { level: 5, exp: 1000, title: "‡∏ú‡∏π‡πâ‡∏ä‡∏≥‡∏ô‡∏≤‡∏ç", color: "#F59E0B" },
        { level: 6, exp: 1500, title: "‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç", color: "#EF4444" },
        { level: 7, exp: 2100, title: "‡∏õ‡∏£‡∏°‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå", color: "#8B5CF6" },
        { level: 8, exp: 2800, title: "‡∏™‡∏∏‡∏î‡∏¢‡∏≠‡∏î", color: "#EC4899" },
        { level: 9, exp: 3600, title: "‡∏ï‡∏≥‡∏ô‡∏≤‡∏ô", color: "#F97316" },
        { level: 10, exp: 4500, title: "‡πÄ‡∏ó‡∏û‡πÄ‡∏à‡πâ‡∏≤‡πÅ‡∏°‡πà‡∏ö‡πâ‡∏≤‡∏ô", color: "#FFD700" }
      ],
      
      // ‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•
      EVALUATION: {
        CRITERIA: {
          COMPLETION_RATE: { weight: 0.40, label: "‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏ö" },
          TIMELINESS: { weight: 0.20, label: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏£‡∏á‡∏ï‡πà‡∏≠‡πÄ‡∏ß‡∏•‡∏≤" },
          QUALITY: { weight: 0.20, label: "‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏á‡∏≤‡∏ô" },
          CONSISTENCY: { weight: 0.10, label: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á" },
          COMMUNICATION: { weight: 0.10, label: "‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£" }
        },
        
        GRADES: {
          A: { min: 90, label: "‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°", color: "#10B981", bonus: 100 },
          B: { min: 80, label: "‡∏î‡∏µ‡∏°‡∏≤‡∏Å", color: "#3B82F6", bonus: 50 },
          C: { min: 70, label: "‡∏î‡∏µ", color: "#F59E0B", bonus: 20 },
          D: { min: 60, label: "‡∏û‡∏≠‡πÉ‡∏ä‡πâ", color: "#EF4444", bonus: 0 },
          F: { min: 0, label: "‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á", color: "#DC2626", bonus: 0 }
        },
        
        WEEKLY_GOAL: 500,
        MONTHLY_GOAL: 2000
      },
      
      // ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
      ACHIEVEMENTS: [
        { 
          id: 'first_work', 
          title: '‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏µ', 
          desc: '‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å', 
          icon: 'üéØ', 
          points: 20, 
          condition: (user) => user.totalSubmissions >= 1 
        },
        { 
          id: 'perfect_day', 
          title: '‡∏ß‡∏±‡∏ô‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÅ‡∏ö‡∏ö', 
          desc: '‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡∏¥‡πâ‡∏ô‡πÉ‡∏ô 1 ‡∏ß‡∏±‡∏ô', 
          icon: 'üåü', 
          points: 50, 
          condition: (user) => user.perfectDays >= 1 
        },
        { 
          id: 'streak_3', 
          title: '‡∏ú‡∏π‡πâ‡∏°‡∏∏‡πà‡∏á‡∏°‡∏±‡πà‡∏ô', 
          desc: '‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô 3 ‡∏ß‡∏±‡∏ô', 
          icon: 'üî•', 
          points: 30, 
          condition: (user) => user.currentStreak >= 3 
        },
        { 
          id: 'streak_7', 
          title: '‡∏ú‡∏π‡πâ‡πÑ‡∏°‡πà‡∏¢‡πà‡∏≠‡∏ó‡πâ‡∏≠', 
          desc: '‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô 7 ‡∏ß‡∏±‡∏ô', 
          icon: 'üí™', 
          points: 100, 
          condition: (user) => user.currentStreak >= 7 
        },
        { 
          id: 'quality_master', 
          title: '‡πÄ‡∏ô‡πâ‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û', 
          desc: '‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏†‡∏≤‡∏û‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û 10 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á', 
          icon: 'üì∏', 
          points: 40, 
          condition: (user) => user.qualityBonuses >= 10 
        },
        { 
          id: 'early_bird', 
          title: '‡∏ô‡∏ÅÊó©Ëµ∑„Åç', 
          desc: '‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ 5 ‡∏ß‡∏±‡∏ô‡∏ï‡∏¥‡∏î', 
          icon: 'üê¶', 
          points: 60, 
          condition: (user) => user.earlySubmissions >= 5 
        },
        { 
          id: 'level_5', 
          title: '‡∏ú‡∏π‡πâ‡∏ä‡∏≥‡∏ô‡∏≤‡∏ç', 
          desc: '‡∏ñ‡∏∂‡∏á‡πÄ‡∏•‡πÄ‡∏ß‡∏• 5', 
          icon: '‚≠ê', 
          points: 100, 
          condition: (user) => user.level >= 5 
        },
        { 
          id: 'level_10', 
          title: '‡πÄ‡∏ó‡∏û‡πÄ‡∏à‡πâ‡∏≤‡πÅ‡∏°‡πà‡∏ö‡πâ‡∏≤‡∏ô', 
          desc: '‡∏ñ‡∏∂‡∏á‡πÄ‡∏•‡πÄ‡∏ß‡∏•‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î!', 
          icon: 'üëë', 
          points: 500, 
          condition: (user) => user.level >= 10 
        },
        { 
          id: 'note_expert', 
          title: '‡∏ú‡∏π‡πâ‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏Å‡∏≤‡∏£‡∏ì‡πå', 
          desc: '‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏Ñ‡∏£‡∏ö 20 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á', 
          icon: 'üìù', 
          points: 40, 
          condition: (user) => user.noteCount >= 20 
        },
        { 
          id: 'week_champion', 
          title: '‡πÅ‡∏ä‡∏°‡∏õ‡πå‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå', 
          desc: '‡πÑ‡∏î‡πâ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö 1 ‡πÉ‡∏ô‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô', 
          icon: 'üèÜ', 
          points: 150, 
          condition: (user) => user.weeklyFirstPlace >= 1 
        }
      ]
    };
    
    // =============================================
    // ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏£‡∏∞‡∏ö‡∏ö
    // =============================================
    let employees = [];
    let tasks = [];
    let submissions = [];
    let scores = [];
    let achievements = [];
    let evaluations = [];
    
    let selectedEmployee = null;
    let selectedTask = null;
    let currentImage = null;
    let currentFilter = 'all';
    let leaderboardPeriod = 'daily';
    
    // =============================================
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
    // =============================================
    function init() {
      console.log('‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏á‡∏≤‡∏ô‡πÅ‡∏°‡πà‡∏ö‡πâ‡∏≤‡∏ô...');
      
      // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
      loadAllData();
      
      // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
      updateCurrentDate();
      
      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
      updateCurrentTime();
      
      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏ó‡∏∏‡∏Å‡∏ô‡∏≤‡∏ó‡∏µ
      setInterval(updateCurrentTime, 60000);
      setInterval(updateBonusTimer, 1000);
      
      // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Service Worker
      setupServiceWorker();
      
      // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ drag and drop
      setupDragAndDrop();
      
      console.log('‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô');
    }
    
    function loadAllData() {
      showLoading('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...');
      
      // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Local Storage
      employees = loadFromStorage('employees', getDefaultEmployees());
      tasks = loadFromStorage('tasks', getDefaultTasks());
      submissions = loadFromStorage('submissions', []);
      scores = loadFromStorage('scores', []);
      achievements = loadFromStorage('achievements', []);
      evaluations = loadFromStorage('evaluations', []);
      
      // ‡πÄ‡∏£‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å
      renderEmployeeList();
      renderMiniLeaderboard();
      renderEvaluationSummary();
      
      hideLoading();
    }
    
    function getDefaultEmployees() {
      return [
        { 
          id: "123465", 
          name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏á‡πâ‡∏≠ ‡∏û‡∏≤‡∏û‡∏¥‡∏ô‡∏¥‡∏à", 
          position: "‡πÅ‡∏°‡πà‡∏ö‡πâ‡∏≤‡∏ô",
          department: "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô",
          hireDate: "2023-01-15",
          phone: "081-234-5678"
        },
        { 
          id: "789456", 
          name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏õ‡∏±‡∏ì‡∏ë‡∏≤‡∏£‡∏µ‡∏¢‡πå ‡∏™‡∏∏‡∏ß‡∏£‡∏£‡∏Å‡∏•‡πà‡∏≠‡∏°", 
          position: "‡πÅ‡∏°‡πà‡∏ö‡πâ‡∏≤‡∏ô",
          department: "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô",
          hireDate: "2023-02-20",
          phone: "082-345-6789"
        },
        { 
          id: "456456", 
          name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏à‡∏¥‡∏ï‡∏£‡∏µ‡∏¢‡∏≤ ‡∏†‡∏π‡∏ú‡∏≤‡∏´‡∏•‡∏ß‡∏á", 
          position: "‡πÅ‡∏°‡πà‡∏ö‡πâ‡∏≤‡∏ô",
          department: "‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£",
          hireDate: "2023-03-10",
          phone: "083-456-7890"
        },
        { 
          id: "753159", 
          name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡πÄ‡∏ó‡∏û‡∏ô‡∏≤‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå ‡∏™‡∏≠‡∏ô‡πÑ‡∏ä‡∏¢‡∏≤", 
          position: "‡πÅ‡∏°‡πà‡∏ö‡πâ‡∏≤‡∏ô",
          department: "‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£",
          hireDate: "2023-01-25",
          phone: "084-567-8901"
        },
        { 
          id: "852456", 
          name: "‡∏ô‡∏≤‡∏á‡∏™‡∏á‡πà‡∏≤ ‡∏û‡∏á‡∏©‡πå‡∏Å‡∏£‡∏∞‡∏â‡∏±‡∏ï‡∏£", 
          position: "‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏°‡πà‡∏ö‡πâ‡∏≤‡∏ô",
          department: "‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",
          hireDate: "2022-08-15",
          phone: "085-678-9012"
        },
        { 
          id: "859674", 
          name: "‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß‡∏°‡∏ì‡∏ó‡∏¥‡∏£‡∏≤ ‡∏î‡πà‡∏≤‡∏ô‡∏à‡∏≠‡∏°‡∏ü‡∏≠‡∏ô", 
          position: "‡πÅ‡∏°‡πà‡∏ö‡πâ‡∏≤‡∏ô",
          department: "‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å",
          hireDate: "2023-04-05",
          phone: "086-789-0123"
        },
        { 
          id: "152635", 
          name: "‡∏ô‡∏≤‡∏á‡∏õ‡πâ‡∏≤ ‡∏¢‡∏ß‡∏ô", 
          position: "‡πÅ‡∏°‡πà‡∏ö‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏ß‡∏∏‡πÇ‡∏™",
          department: "‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",
          hireDate: "2021-11-30",
          phone: "087-890-1234"
        }
      ];
    }
    
    function getDefaultTasks() {
      return [
        // ‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô 123465
        { id: "TASK001", name: "‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏ô‡∏≥‡∏Ç‡∏¢‡∏∞‡πÉ‡∏ô‡∏ñ‡∏±‡∏á‡∏ó‡∏¥‡πâ‡∏á‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô", owner: "123465", time: "08:00, 16:00", area: "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ A", priority: "‡∏™‡∏π‡∏á" },
        { id: "TASK002", name: "‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥", freq: "2 ‡∏ä‡∏°. ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÇ‡∏ñ‡∏™‡πâ‡∏ß‡∏°/‡πÇ‡∏ñ‡∏õ‡∏±‡∏™‡∏™‡∏≤‡∏ß‡∏∞/‡∏≠‡πà‡∏≤‡∏á‡∏•‡πâ‡∏≤‡∏á‡∏°‡∏∑‡∏≠", owner: "123465", time: "‡∏ï‡∏•‡∏≠‡∏î‡∏ß‡∏±‡∏ô", area: "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ A ‡∏ä‡∏±‡πâ‡∏ô 1-3", priority: "‡∏™‡∏π‡∏á" },
        { id: "TASK003", name: "‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°", freq: "‡∏´‡∏•‡∏±‡∏á‡∏à‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°", desc: "‡∏õ‡∏±‡∏î‡∏Å‡∏ß‡∏≤‡∏î/‡πÄ‡∏ä‡πá‡∏î‡πÇ‡∏ï‡πä‡∏∞‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°/‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ", owner: "123465", time: "‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°", area: "‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡πÉ‡∏´‡∏ç‡πà", priority: "‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á" },
        { id: "TASK004", name: "‡∏û‡∏∑‡πâ‡∏ô", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏Å‡∏ß‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏ñ‡∏π‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô", owner: "123465", time: "09:00", area: "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ A", priority: "‡∏õ‡∏Å‡∏ï‡∏¥" },
        { id: "TASK006", name: "‡∏Å‡∏£‡∏∞‡∏à‡∏Å", freq: "‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡πÄ‡∏ä‡πá‡∏î‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏£‡∏≠‡∏ö‡πÜ‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô", owner: "123465", time: "‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå, ‡∏û‡∏§‡∏´‡∏±‡∏™", area: "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ A", priority: "‡∏ï‡πà‡∏≥" },
        { id: "TASK007", name: "‡∏á‡∏≤‡∏ô‡∏™‡∏ß‡∏ô", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ", owner: "123465", time: "07:30", area: "‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£", priority: "‡∏õ‡∏Å‡∏ï‡∏¥" },
        
        // ‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô 789456
        { id: "TASK008", name: "‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏ô‡∏≥‡∏Ç‡∏¢‡∏∞‡πÉ‡∏ô‡∏ñ‡∏±‡∏á‡∏ó‡∏¥‡πâ‡∏á‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô", owner: "789456", time: "08:00, 16:00", area: "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ B", priority: "‡∏™‡∏π‡∏á" },
        { id: "TASK009", name: "‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥‡∏ä‡∏±‡πâ‡∏ô 1-4", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÇ‡∏ñ‡∏™‡πâ‡∏ß‡∏°/‡∏û‡∏∑‡πâ‡∏ô/‡∏Å‡∏£‡∏∞‡∏à‡∏Å", owner: "789456", time: "10:00, 14:00", area: "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ B", priority: "‡∏™‡∏π‡∏á" },
        { id: "TASK010", name: "‡∏ö‡∏±‡∏ç‡∏ä‡∏µ ‡∏ï‡∏∂‡∏Å HQ", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏Å‡∏ß‡∏≤‡∏î‡∏û‡∏∑‡πâ‡∏ô/‡∏ñ‡∏π‡∏û‡∏∑‡πâ‡∏ô/‡∏ô‡∏≥‡∏Ç‡∏¢‡∏∞/‡πÄ‡∏ä‡πá‡∏î‡πÇ‡∏ï‡πä‡∏∞", owner: "789456", time: "13:00", area: "‡∏ï‡∏∂‡∏Å HQ", priority: "‡∏õ‡∏Å‡∏ï‡∏¥" },
        { id: "TASK011", name: "‡∏û‡∏∑‡πâ‡∏ô/‡∏£‡∏≤‡∏ß‡∏ö‡∏±‡∏ô‡πÑ‡∏î", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏Å‡∏ß‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏ñ‡∏π‡∏û‡∏∑‡πâ‡∏ô‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô/‡πÄ‡∏ä‡πá‡∏î‡∏£‡∏≤‡∏ß‡∏ö‡∏±‡∏ô‡πÑ‡∏î", owner: "789456", time: "11:00", area: "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ B", priority: "‡∏õ‡∏Å‡∏ï‡∏¥" },
        { id: "TASK012", name: "‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÇ‡∏£‡∏á‡πÄ‡∏´‡∏•‡πá‡∏Å", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏ô‡∏≥‡∏Ç‡∏¢‡∏∞‡πÑ‡∏õ‡∏ó‡∏¥‡πâ‡∏á‡∏Å‡∏ß‡∏≤‡∏î‡∏û‡∏∑‡πâ‡∏ô/‡πÄ‡∏ä‡πá‡∏î‡πÇ‡∏ï‡πä‡∏∞", owner: "789456", time: "12:00", area: "‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£", priority: "‡∏™‡∏π‡∏á" },
        { id: "TASK013", name: "‡∏á‡∏≤‡∏ô‡∏™‡∏ß‡∏ô", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ", owner: "789456", time: "07:30", area: "‡∏™‡∏ß‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ï‡∏∂‡∏Å", priority: "‡∏õ‡∏Å‡∏ï‡∏¥" },
        
        // ‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô 456456
        { id: "TASK014", name: "‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏ô‡∏≥‡∏Ç‡∏¢‡∏∞‡πÉ‡∏ô‡∏ñ‡∏±‡∏á‡∏ó‡∏¥‡πâ‡∏á‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô", owner: "456456", time: "16:00", area: "‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£", priority: "‡∏™‡∏π‡∏á" },
        { id: "TASK015", name: "‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÇ‡∏ñ‡∏™‡πâ‡∏ß‡∏°/‡∏≠‡πà‡∏≤‡∏á‡∏•‡πâ‡∏≤‡∏á‡∏°‡∏∑‡∏≠", owner: "456456", time: "10:00, 15:00", area: "‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£", priority: "‡∏™‡∏π‡∏á" },
        { id: "TASK016", name: "‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏õ‡∏±‡∏î‡∏Å‡∏ß‡∏≤‡∏î/‡πÄ‡∏ä‡πá‡∏î‡πÇ‡∏ï‡πä‡∏∞/‡∏•‡πâ‡∏≤‡∏á‡∏≠‡πà‡∏≤‡∏á", owner: "456456", time: "11:30, 13:30", area: "‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£", priority: "‡∏™‡∏π‡∏á" },
        { id: "TASK017", name: "‡∏û‡∏∑‡πâ‡∏ô", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏Å‡∏ß‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏ñ‡∏π‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô", owner: "456456", time: "14:00", area: "‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£", priority: "‡∏õ‡∏Å‡∏ï‡∏¥" },
        { id: "TASK018", name: "‡∏á‡∏≤‡∏ô‡∏™‡∏ß‡∏ô", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ", owner: "456456", time: "08:00", area: "‡∏™‡∏ß‡∏ô‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£", priority: "‡∏õ‡∏Å‡∏ï‡∏¥" },
        
        // ‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô 753159
        { id: "TASK019", name: "‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏ô‡∏≥‡∏Ç‡∏¢‡∏∞‡πÉ‡∏ô‡∏ñ‡∏±‡∏á‡∏ó‡∏¥‡πâ‡∏á‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô", owner: "753159", time: "08:00, 16:00", area: "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ C", priority: "‡∏™‡∏π‡∏á" },
        { id: "TASK020", name: "‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥‡∏ä‡∏±‡πâ‡∏ô 1-5", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÇ‡∏ñ‡∏™‡πâ‡∏ß‡∏°/‡∏û‡∏∑‡πâ‡∏ô/‡∏Å‡∏£‡∏∞‡∏à‡∏Å", owner: "753159", time: "11:00", area: "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ C", priority: "‡∏™‡∏π‡∏á" },
        { id: "TASK021", name: "‡∏´‡πâ‡∏≠‡∏á‡∏ü‡∏¥‡∏ï‡πÄ‡∏ô‡∏™", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏õ‡∏±‡∏î‡∏Å‡∏ß‡∏≤‡∏î/‡πÄ‡∏ä‡πá‡∏î‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå/‡∏ñ‡∏π‡∏û‡∏∑‡πâ‡∏ô", owner: "753159", time: "09:00", area: "‡∏´‡πâ‡∏≠‡∏á‡∏ü‡∏¥‡∏ï‡πÄ‡∏ô‡∏™", priority: "‡∏õ‡∏Å‡∏ï‡∏¥" },
        { id: "TASK022", name: "‡∏û‡∏∑‡πâ‡∏ô/‡∏£‡∏≤‡∏ß‡∏ö‡∏±‡∏ô‡πÑ‡∏î", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏Å‡∏ß‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏ñ‡∏π‡∏û‡∏∑‡πâ‡∏ô‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô/‡πÄ‡∏ä‡πá‡∏î‡∏£‡∏≤‡∏ß‡∏ö‡∏±‡∏ô‡πÑ‡∏î", owner: "753159", time: "10:00", area: "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ C", priority: "‡∏õ‡∏Å‡∏ï‡∏¥" },
        { id: "TASK023", name: "‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏õ‡∏±‡∏î‡∏Å‡∏ß‡∏≤‡∏î/‡πÄ‡∏ä‡πá‡∏î‡πÇ‡∏ï‡πä‡∏∞/‡∏•‡πâ‡∏≤‡∏á‡∏≠‡πà‡∏≤‡∏á", owner: "753159", time: "12:00", area: "‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£", priority: "‡∏™‡∏π‡∏á" },
        { id: "TASK024", name: "‡∏á‡∏≤‡∏ô‡∏™‡∏ß‡∏ô", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ", owner: "753159", time: "07:30", area: "‡∏™‡∏ß‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏ï‡∏∂‡∏Å", priority: "‡∏õ‡∏Å‡∏ï‡∏¥" },
        
        // ‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô 852456 (‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤)
        { id: "TASK025", name: "‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏ô‡∏≥‡∏Ç‡∏¢‡∏∞‡πÉ‡∏ô‡∏ñ‡∏±‡∏á‡∏ó‡∏¥‡πâ‡∏á‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô", owner: "852456", time: "16:00", area: "‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", priority: "‡∏™‡∏π‡∏á" },
        { id: "TASK026", name: "‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÇ‡∏ñ‡∏™‡πâ‡∏ß‡∏°/‡∏≠‡πà‡∏≤‡∏á‡∏•‡πâ‡∏≤‡∏á‡∏°‡∏∑‡∏≠", owner: "852456", time: "09:00, 14:00", area: "‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà", priority: "‡∏™‡∏π‡∏á" },
        { id: "TASK027", name: "‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°", freq: "‡∏´‡∏•‡∏±‡∏á‡∏à‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°", desc: "‡∏õ‡∏±‡∏î‡∏Å‡∏ß‡∏≤‡∏î/‡πÄ‡∏ä‡πá‡∏î‡πÇ‡∏ï‡πä‡∏∞‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°/‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ", owner: "852456", time: "‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°", area: "‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£", priority: "‡∏™‡∏π‡∏á" },
        { id: "TASK028", name: "‡∏û‡∏∑‡πâ‡∏ô/‡∏£‡∏≤‡∏ß‡∏ö‡∏±‡∏ô‡πÑ‡∏î/‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏•‡πä‡∏≠‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏Å‡∏ß‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏ñ‡∏π‡∏û‡∏∑‡πâ‡∏ô‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô/‡πÄ‡∏ä‡πá‡∏î‡∏£‡∏≤‡∏ß‡∏ö‡∏±‡∏ô‡πÑ‡∏î", owner: "852456", time: "13:00", area: "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏Å", priority: "‡∏õ‡∏Å‡∏ï‡∏¥" },
        { id: "TASK029", name: "‡∏Å‡∏£‡∏∞‡∏à‡∏Å", freq: "‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡πÄ‡∏ä‡πá‡∏î‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏£‡∏≠‡∏ö‡πÜ‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô", owner: "852456", time: "‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£, ‡∏®‡∏∏‡∏Å‡∏£‡πå", area: "‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà", priority: "‡∏ï‡πà‡∏≥" },
        { id: "TASK030", name: "‡∏á‡∏≤‡∏ô‡∏™‡∏ß‡∏ô", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ", owner: "852456", time: "08:00", area: "‡∏™‡∏ß‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£", priority: "‡∏õ‡∏Å‡∏ï‡∏¥" },
        
        // ‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô 859674
        { id: "TASK031", name: "‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏ô‡∏≥‡∏Ç‡∏¢‡∏∞‡πÉ‡∏ô‡∏ñ‡∏±‡∏á‡∏ó‡∏¥‡πâ‡∏á‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô", owner: "859674", time: "08:00, 16:00", area: "‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å", priority: "‡∏™‡∏π‡∏á" },
        { id: "TASK032", name: "‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥‡∏ä‡∏±‡πâ‡∏ô 1-4", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÇ‡∏ñ‡∏™‡πâ‡∏ß‡∏°/‡∏û‡∏∑‡πâ‡∏ô/‡∏Å‡∏£‡∏∞‡∏à‡∏Å", owner: "859674", time: "10:00, 14:00", area: "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ D", priority: "‡∏™‡∏π‡∏á" },
        { id: "TASK033", name: "‡∏ö‡∏±‡∏ç‡∏ä‡∏µ ‡∏ï‡∏∂‡∏Å HQ", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏Å‡∏ß‡∏≤‡∏î‡∏û‡∏∑‡πâ‡∏ô/‡∏ñ‡∏π‡∏û‡∏∑‡πâ‡∏ô/‡πÄ‡∏ä‡πá‡∏î‡πÇ‡∏ï‡πä‡∏∞", owner: "859674", time: "13:00", area: "‡∏ï‡∏∂‡∏Å HQ", priority: "‡∏õ‡∏Å‡∏ï‡∏¥" },
        { id: "TASK034", name: "‡∏û‡∏∑‡πâ‡∏ô/‡∏£‡∏≤‡∏ß‡∏ö‡∏±‡∏ô‡πÑ‡∏î", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏Å‡∏ß‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏ñ‡∏π‡∏û‡∏∑‡πâ‡∏ô‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô/‡πÄ‡∏ä‡πá‡∏î‡∏£‡∏≤‡∏ß‡∏ö‡∏±‡∏ô‡πÑ‡∏î", owner: "859674", time: "11:00", area: "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ D", priority: "‡∏õ‡∏Å‡∏ï‡∏¥" },
        { id: "TASK035", name: "‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÇ‡∏£‡∏á‡πÄ‡∏´‡∏•‡πá‡∏Å", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏ô‡∏≥‡∏Ç‡∏¢‡∏∞‡πÑ‡∏õ‡∏ó‡∏¥‡πâ‡∏á/‡∏Å‡∏ß‡∏≤‡∏î‡∏û‡∏∑‡πâ‡∏ô/‡πÄ‡∏ä‡πá‡∏î‡πÇ‡∏ï‡πä‡∏∞", owner: "859674", time: "12:00", area: "‡πÇ‡∏£‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏´‡∏•‡πá‡∏Å", priority: "‡∏™‡∏π‡∏á" },
        { id: "TASK036", name: "‡∏á‡∏≤‡∏ô‡∏™‡∏ß‡∏ô", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ/‡∏ï‡∏±‡∏î‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ/‡∏õ‡∏•‡∏π‡∏Å‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ", owner: "859674", time: "07:30", area: "‡∏™‡∏ß‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", priority: "‡∏õ‡∏Å‡∏ï‡∏¥" },
        
        // ‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô 152635 (‡∏≠‡∏≤‡∏ß‡∏∏‡πÇ‡∏™)
        { id: "TASK037", name: "‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏ô‡∏≥‡∏Ç‡∏¢‡∏∞‡πÉ‡∏ô‡∏ñ‡∏±‡∏á‡∏ó‡∏¥‡πâ‡∏á‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô", owner: "152635", time: "08:00, 16:00", area: "‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", priority: "‡∏™‡∏π‡∏á" },
        { id: "TASK038", name: "‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏´‡πâ‡∏≠‡∏á‡∏ô‡πâ‡∏≥‡∏ä‡∏±‡πâ‡∏ô 1-3 ‡πÅ‡∏•‡∏∞‡∏î‡πà‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏á", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÇ‡∏ñ‡∏™‡πâ‡∏ß‡∏°/‡∏≠‡πà‡∏≤‡∏á‡∏•‡πâ‡∏≤‡∏á‡∏°‡∏∑‡∏≠", owner: "152635", time: "09:00, 15:00", area: "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏Å", priority: "‡∏™‡∏π‡∏á" },
        { id: "TASK039", name: "‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡πÅ‡∏•‡∏∞‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏õ‡∏±‡∏î‡∏Å‡∏ß‡∏≤‡∏î/‡πÄ‡∏ä‡πá‡∏î‡πÇ‡∏ï‡πä‡∏∞‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°/‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πâ‡∏≤‡∏≠‡∏µ‡πâ", owner: "152635", time: "10:00", area: "‡∏ú‡∏π‡πâ‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£", priority: "‡∏™‡∏π‡∏á" },
        { id: "TASK040", name: "‡∏û‡∏∑‡πâ‡∏ô/‡∏£‡∏≤‡∏ß‡∏ö‡∏±‡∏ô‡πÑ‡∏î", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏Å‡∏ß‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡∏ñ‡∏π‡∏û‡∏∑‡πâ‡∏ô‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô/‡πÄ‡∏ä‡πá‡∏î‡∏£‡∏≤‡∏ß‡∏ö‡∏±‡∏ô‡πÑ‡∏î", owner: "152635", time: "11:00", area: "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏Å", priority: "‡∏õ‡∏Å‡∏ï‡∏¥" },
        { id: "TASK041", name: "‡∏Å‡∏£‡∏∞‡∏à‡∏Å", freq: "‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡πÄ‡∏ä‡πá‡∏î‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏£‡∏≠‡∏ö‡πÜ‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô", owner: "152635", time: "‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå, ‡∏û‡∏§‡∏´‡∏±‡∏™", area: "‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î", priority: "‡∏ï‡πà‡∏≥" },
        { id: "TASK042", name: "‡∏á‡∏≤‡∏ô‡∏™‡∏ß‡∏ô", freq: "‡∏ß‡∏±‡∏ô‡∏•‡∏∞‡∏Ñ‡∏£‡∏±‡πâ‡∏á", desc: "‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ", owner: "152635", time: "08:00", area: "‡∏™‡∏ß‡∏ô‡∏´‡∏•‡∏±‡∏Å", priority: "‡∏õ‡∏Å‡∏ï‡∏¥" }
      ];
    }
    
    // =============================================
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Local Storage
    // =============================================
    function loadFromStorage(key, defaultValue) {
      try {
        const data = localStorage.getItem(`housekeeping_${key}`);
        return data ? JSON.parse(data) : defaultValue;
      } catch (e) {
        console.error(`Error loading ${key}:`, e);
        return defaultValue;
      }
    }
    
    function saveToStorage(key, data) {
      try {
        localStorage.setItem(`housekeeping_${key}`, JSON.stringify(data));
      } catch (e) {
        console.error(`Error saving ${key}:`, e);
      }
    }
    
    // =============================================
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡∏•‡∏≤
    // =============================================
    function updateCurrentDate() {
      const now = new Date();
      const thaiMonths = ['‡∏°.‡∏Ñ.', '‡∏Å.‡∏û.', '‡∏°‡∏µ.‡∏Ñ.', '‡πÄ‡∏°.‡∏¢.', '‡∏û.‡∏Ñ.', '‡∏°‡∏¥.‡∏¢.', '‡∏Å.‡∏Ñ.', '‡∏™.‡∏Ñ.', '‡∏Å.‡∏¢.', '‡∏ï.‡∏Ñ.', '‡∏û.‡∏¢.', '‡∏ò.‡∏Ñ.'];
      const thaiDays = ['‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå', '‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå', '‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£', '‡∏û‡∏∏‡∏ò', '‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ', '‡∏®‡∏∏‡∏Å‡∏£‡πå', '‡πÄ‡∏™‡∏≤‡∏£‡πå'];
      
      const day = now.getDate();
      const month = thaiMonths[now.getMonth()];
      const year = now.getFullYear() + 543;
      const dayName = thaiDays[now.getDay()];
      
      const dateStr = `${day} ${month} ${year} (${dayName})`;
      document.getElementById('current-date').textContent = `‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: ${dateStr}`;
      document.getElementById('today-date').textContent = dateStr;
      
      return now;
    }
    
    function updateCurrentTime() {
      const now = new Date();
      const hours = now.getHours().toString().padStart(2, '0');
      const minutes = now.getMinutes().toString().padStart(2, '0');
      
      document.getElementById('current-time').textContent = `‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: ${hours}:${minutes}`;
      
      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏à‡∏ô‡∏ñ‡∏∂‡∏á 16:00
      const deadline = new Date(now);
      deadline.setHours(16, 0, 0, 0);
      
      if (now < deadline) {
        const diff = deadline - now;
        const hoursLeft = Math.floor(diff / (1000 * 60 * 60));
        const minutesLeft = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        
        document.getElementById('time-remaining').textContent = `‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤: ${hoursLeft}:${minutesLeft.toString().padStart(2, '0')}`;
        
        // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡∏•‡∏≤ (‡∏à‡∏≤‡∏Å 8:00-16:00)
        const totalMinutes = 8 * 60;
        const currentMinutes = now.getHours() * 60 + now.getMinutes() - 8 * 60;
        const progress = Math.max(0, Math.min(100, (currentMinutes / totalMinutes) * 100));
        document.getElementById('time-progress').style.width = `${100 - progress}%`;
      } else {
        document.getElementById('time-remaining').textContent = '‡πÄ‡∏•‡∏¢‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡πâ‡∏ß';
        document.getElementById('time-progress').style.width = '0%';
      }
    }
    
    function updateBonusTimer() {
      const now = new Date();
      const deadline = new Date(now);
      deadline.setHours(16, 0, 0, 0);
      
      if (now < deadline) {
        const diff = deadline - now;
        const hoursLeft = Math.floor(diff / (1000 * 60 * 60));
        const minutesLeft = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        
        document.getElementById('bonus-time-left').textContent = `‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤: ${hoursLeft}:${minutesLeft.toString().padStart(2, '0')}`;
      } else {
        document.getElementById('bonus-time-left').textContent = '‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡πÇ‡∏ö‡∏ô‡∏±‡∏™';
      }
    }
    
    // =============================================
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô Loading
    // =============================================
    function showLoading(text = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...', subtext = '‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà') {
      document.getElementById('loading-text').textContent = text;
      document.getElementById('loading-subtext').textContent = subtext;
      document.getElementById('loading-overlay').classList.remove('hidden');
    }
    
    function hideLoading() {
      document.getElementById('loading-overlay').classList.add('hidden');
    }
    
    // =============================================
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Service Worker
    // =============================================
    function setupServiceWorker() {
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js')
          .then(registration => {
            console.log('Service Worker ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:', registration.scope);
          })
          .catch(error => {
            console.log('Service Worker ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß:', error);
          });
      }
    }
    
    // =============================================
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Drag and Drop
    // =============================================
    function setupDragAndDrop() {
      const uploadArea = document.getElementById('upload-area');
      
      uploadArea.addEventListener('dragover', (e) => {
        e.preventDefault();
        uploadArea.classList.add('border-blue-400', 'bg-blue-50');
      });
      
      uploadArea.addEventListener('dragleave', () => {
        uploadArea.classList.remove('border-blue-400', 'bg-blue-50');
      });
      
      uploadArea.addEventListener('drop', (e) => {
        e.preventDefault();
        uploadArea.classList.remove('border-blue-400', 'bg-blue-50');
        
        const file = e.dataTransfer.files[0];
        if (file && file.type.startsWith('image/')) {
          previewImage(file);
        } else {
          showToast('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô', 'error');
        }
      });
    }
    
    // =============================================
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏£‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô
    // =============================================
    function renderEmployeeList() {
      const container = document.getElementById('employee-list');
      container.innerHTML = '';
      
      employees.forEach(emp => {
        const stats = getEmployeeStats(emp.id);
        const score = calculateEmployeeScore(emp.id);
        const evaluation = calculateEvaluation(emp.id, 'month');
        
        const btn = document.createElement('button');
        btn.className = 'employee-card w-full bg-white p-4 rounded-xl shadow border border-gray-200 text-left fade-in hover:border-blue-300';
        
        btn.innerHTML = `
          <div class="flex items-center">
            <div class="w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center mr-3 flex-shrink-0 shadow relative">
              <i class="fa-solid fa-user text-white"></i>
              <div class="absolute -top-1 -right-1 bg-yellow-500 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center shadow">
                ${score.level}
              </div>
            </div>
            <div class="flex-1">
              <div class="flex justify-between items-start">
                <div>
                  <div class="font-bold text-gray-800 text-left truncate">${emp.name}</div>
                  <div class="text-xs text-gray-500 mt-1 text-left">${emp.position}</div>
                </div>
                <div class="text-right">
                  <div class="text-sm font-bold text-blue-600">${score.todayScore}</div>
                  <div class="text-xs text-gray-500">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
                </div>
              </div>
              <div class="flex items-center justify-between mt-2">
                <div class="text-xs text-gray-400 flex items-center">
                  <i class="fa-solid fa-id-card mr-1"></i>
                  <span>${emp.id}</span>
                </div>
                <div class="flex items-center text-xs">
                  <i class="fas fa-star text-yellow-500 mr-1 text-xs"></i>
                  <span class="text-gray-600">‡∏£‡∏ß‡∏°: ${score.totalScore}</span>
                </div>
              </div>
              <div class="mt-2 flex items-center">
                <span class="text-xs px-2 py-1 rounded-full ${getGradeColorClass(evaluation.grade)} font-medium">
                  ${evaluation.gradeLabel || '-'}
                </span>
              </div>
            </div>
          </div>
        `;
        
        btn.onclick = () => selectEmployee(emp);
        container.appendChild(btn);
      });
    }
    
    function getGradeColorClass(grade) {
      switch(grade) {
        case 'A': return 'bg-green-100 text-green-800';
        case 'B': return 'bg-blue-100 text-blue-800';
        case 'C': return 'bg-yellow-100 text-yellow-800';
        case 'D': return 'bg-red-100 text-red-800';
        case 'F': return 'bg-gray-100 text-gray-800';
        default: return 'bg-gray-100 text-gray-800';
      }
    }
    
    // =============================================
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏£‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏¢‡πà‡∏≠
    // =============================================
    function renderMiniLeaderboard() {
      const container = document.getElementById('mini-leaderboard');
      const today = new Date().toISOString().split('T')[0];
      
      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡∏ô
      const todayScores = employees.map(emp => {
        const score = scores.filter(s => s.empId === emp.id && s.date === today)
          .reduce((sum, s) => sum + s.points, 0);
        return { ...emp, score };
      }).sort((a, b) => b.score - a.score).slice(0, 3);
      
      container.innerHTML = '';
      
      if (todayScores.length === 0) {
        container.innerHTML = `
          <div class="text-center py-4 text-blue-100">
            <i class="fas fa-trophy text-2xl mb-2 opacity-50"></i>
            <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</p>
            <p class="text-xs mt-1">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏¥‡∏î‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö!</p>
          </div>
        `;
        return;
      }
      
      const medals = ['ü•á', 'ü•à', 'ü•â'];
      
      todayScores.forEach((emp, index) => {
        const div = document.createElement('div');
        div.className = 'flex items-center justify-between p-3 bg-white/10 rounded-lg backdrop-blur-sm';
        div.innerHTML = `
          <div class="flex items-center">
            <span class="text-xl mr-3">${medals[index]}</span>
            <div>
              <div class="font-medium text-sm truncate max-w-[120px]">${emp.name.split(' ').pop()}</div>
              <div class="text-xs text-blue-200">${emp.score} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
            </div>
          </div>
          <div class="text-xs bg-white/20 px-2 py-1 rounded">
            ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö ${index + 1}
          </div>
        `;
        container.appendChild(div);
      });
    }
    
    // =============================================
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏£‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏™‡∏£‡∏∏‡∏õ‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•
    // =============================================
    function renderEvaluationSummary() {
      const container = document.getElementById('evaluation-summary');
      
      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏Ç‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
      const totalEvaluations = employees.map(emp => {
        const evalData = calculateEvaluation(emp.id, 'month');
        return evalData.totalScore;
      }).filter(score => score > 0);
      
      if (totalEvaluations.length === 0) {
        container.innerHTML = `
          <div class="py-2">
            <p class="text-gray-500">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•</p>
            <p class="text-xs text-gray-400 mt-1">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•</p>
          </div>
        `;
        return;
      }
      
      const avgScore = Math.round(totalEvaluations.reduce((a, b) => a + b, 0) / totalEvaluations.length);
      const grade = getGradeFromScore(avgScore);
      const gradeInfo = SCORE_SYSTEM.EVALUATION.GRADES[grade];
      
      container.innerHTML = `
        <div class="flex items-center justify-center mb-2">
          <div class="text-3xl font-bold ${grade.toLowerCase()}-a" style="color: ${gradeInfo.color}">
            ${avgScore}
          </div>
          <div class="ml-2 text-left">
            <div class="font-bold text-gray-800">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</div>
            <div class="text-sm ${grade.toLowerCase()}-a" style="color: ${gradeInfo.color}">
              ${gradeInfo.label}
            </div>
          </div>
        </div>
        <div class="text-xs text-gray-500">
          ${totalEvaluations.length} ‡∏Ñ‡∏ô‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô
        </div>
      `;
    }
    
    // =============================================
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô
    // =============================================
    function selectEmployee(emp) {
      selectedEmployee = emp;
      const score = calculateEmployeeScore(emp.id);
      
      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô header
      document.getElementById('user-name').textContent = emp.name;
      document.getElementById('user-id').textContent = emp.id;
      document.getElementById('user-score').textContent = `${score.totalScore} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô`;
      document.getElementById('user-level').textContent = score.level;
      document.getElementById('user-level-badge').textContent = score.level;
      document.getElementById('today-score').textContent = score.todayScore;
      document.getElementById('current-exp').textContent = `${score.exp} EXP`;
      document.getElementById('next-level-exp').textContent = `${score.nextLevelExp} EXP`;
      document.getElementById('score-progress-bar').style.width = `${score.progress}%`;
      
      // ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏á‡∏≤‡∏ô
      loadEmployeeTasks();
      
      // ‡∏ã‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î
      document.getElementById('home-screen').classList.add('hidden');
      document.getElementById('dashboard-screen').classList.remove('hidden');
    }
    
    function goBack() {
      selectedEmployee = null;
      document.getElementById('dashboard-screen').classList.add('hidden');
      document.getElementById('home-screen').classList.remove('hidden');
      renderEmployeeList();
      renderMiniLeaderboard();
    }
    
    // =============================================
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÇ‡∏´‡∏•‡∏î‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô
    // =============================================
    function loadEmployeeTasks() {
      if (!selectedEmployee) return;
      
      // ‡∏Å‡∏£‡∏≠‡∏á‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ô‡∏µ‡πâ
      const empTasks = tasks.filter(task => task.owner === selectedEmployee.id);
      
      // ‡πÄ‡∏£‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô
      renderTaskList(empTasks);
      
      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥
      updateTaskStats(empTasks);
    }
    
    function renderTaskList(empTasks) {
      const container = document.getElementById('task-list');
      const emptyState = document.getElementById('empty-state');
      
      if (!empTasks || empTasks.length === 0) {
        container.innerHTML = '';
        emptyState.classList.remove('hidden');
        return;
      }
      
      emptyState.classList.add('hidden');
      container.innerHTML = '';
      
      const today = new Date().toISOString().split('T')[0];
      
      empTasks.forEach(task => {
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
        const isCompleted = submissions.some(sub => 
          sub.empId === selectedEmployee.id && 
          sub.taskId === task.id && 
          sub.date === today
        );
        
        // ‡∏´‡∏≤‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡πÑ‡∏î‡πâ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
        const taskScore = scores.find(s => 
          s.empId === selectedEmployee.id && 
          s.taskId === task.id && 
          s.date === today
        );
        
        const card = document.createElement('div');
        card.className = `task-card p-4 bg-white rounded-xl shadow border ${isCompleted ? 'border-green-500' : 'border-blue-500'}`;
        
        card.innerHTML = `
          <div class="flex justify-between items-start mb-3">
            <div class="flex-1">
              <div class="flex items-center mb-2">
                <span class="font-bold ${isCompleted ? 'text-green-600' : 'text-blue-600'} bg-${isCompleted ? 'green' : 'blue'}-100 px-2 py-1 rounded text-xs">
                  ${task.id}
                </span>
                ${isCompleted ? `
                  <span class="ml-2 bg-green-100 text-green-700 text-xs px-2 py-1 rounded-full">
                    <i class="fa-solid fa-check mr-1"></i> ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß
                  </span>
                ` : ''}
              </div>
              
              <h3 class="font-bold text-gray-800 text-lg mb-1">${task.name}</h3>
              
              <p class="text-sm text-gray-600 mb-2">${task.desc}</p>
              
              <div class="flex flex-wrap gap-2 mb-3">
                <span class="text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded">
                  <i class="fa-solid fa-map-marker-alt mr-1"></i> ${task.area}
                </span>
                <span class="text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded">
                  <i class="fa-solid fa-clock mr-1"></i> ${task.time}
                </span>
                <span class="text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded">
                  <i class="fa-solid fa-flag mr-1"></i> ${task.priority}
                </span>
              </div>
              
              ${taskScore ? `
                <div class="mt-2 p-2 bg-green-50 rounded-lg">
                  <div class="flex justify-between items-center">
                    <span class="text-sm text-gray-600">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ:</span>
                    <span class="font-bold text-green-600">+${taskScore.points} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
                  </div>
                  <div class="text-xs text-gray-500 mt-1">
                    ${new Date(taskScore.timestamp).toLocaleTimeString('th-TH', { hour: '2-digit', minute: '2-digit' })}
                  </div>
                </div>
              ` : ''}
            </div>
            
            <div class="ml-2">
              <div class="w-10 h-10 ${isCompleted ? 'bg-green-100' : 'bg-blue-100'} rounded-full flex items-center justify-center">
                <i class="fa-solid ${isCompleted ? 'fa-check text-green-600' : 'fa-list-check text-blue-600'}"></i>
              </div>
            </div>
          </div>
          
          <button onclick="openSubmit('${task.id}')" 
            class="w-full ${isCompleted ? 'bg-gradient-to-r from-green-500 to-green-600' : 'bg-gradient-to-r from-blue-600 to-blue-700'} 
                   text-white py-3 rounded-lg font-medium shadow hover:shadow-md transition transform hover:-translate-y-0.5">
            ${isCompleted ? 
              '<i class="fa-solid fa-redo mr-2"></i> ‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á' : 
              '<i class="fa-solid fa-check mr-2"></i> ‡∏™‡πà‡∏á‡∏ú‡∏•‡∏á‡∏≤‡∏ô'}
          </button>
        `;
        
        container.appendChild(card);
      });
    }
    
    function filterTasks(filter) {
      currentFilter = filter;
      
      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏õ‡∏∏‡πà‡∏° filter
      document.querySelectorAll('.filter-btn').forEach(btn => {
        btn.classList.remove('bg-blue-600', 'text-white', 'shadow');
        btn.classList.add('bg-gray-200', 'text-gray-700');
      });
      
      const filterButtons = document.querySelectorAll('.filter-btn');
      if (filter === 'all') filterButtons[0].className = 'filter-btn px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-medium whitespace-nowrap shadow';
      if (filter === 'pending') filterButtons[1].className = 'filter-btn px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-medium whitespace-nowrap shadow';
      if (filter === 'completed') filterButtons[2].className = 'filter-btn px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-medium whitespace-nowrap shadow';
      if (filter === 'high_score') filterButtons[3].className = 'filter-btn px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-medium whitespace-nowrap shadow';
      
      // ‡∏Å‡∏£‡∏≠‡∏á‡∏á‡∏≤‡∏ô
      const empTasks = tasks.filter(task => task.owner === selectedEmployee.id);
      const today = new Date().toISOString().split('T')[0];
      
      let filteredTasks = empTasks;
      
      if (filter === 'pending') {
        filteredTasks = empTasks.filter(task => 
          !submissions.some(sub => 
            sub.empId === selectedEmployee.id && 
            sub.taskId === task.id && 
            sub.date === today
          )
        );
      } else if (filter === 'completed') {
        filteredTasks = empTasks.filter(task => 
          submissions.some(sub => 
            sub.empId === selectedEmployee.id && 
            sub.taskId === task.id && 
            sub.date === today
          )
        );
      } else if (filter === 'high_score') {
        filteredTasks = empTasks.filter(task => {
          const taskScore = scores.find(s => 
            s.empId === selectedEmployee.id && 
            s.taskId === task.id && 
            s.date === today
          );
          return taskScore && taskScore.points >= 15;
        });
      }
      
      renderTaskList(filteredTasks);
    }
    
    function updateTaskStats(empTasks) {
      if (!selectedEmployee) return;
      
      const today = new Date().toISOString().split('T')[0];
      const completed = submissions.filter(sub => 
        sub.empId === selectedEmployee.id && 
        sub.date === today
      ).length;
      
      const total = empTasks.length;
      
      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï progress
      document.getElementById('completed-count').textContent = completed;
      document.getElementById('total-count').textContent = total;
      document.getElementById('completed-for-bonus').textContent = completed;
      document.getElementById('total-for-bonus').textContent = total;
      
      const progressPercent = total > 0 ? (completed / total) * 100 : 0;
      document.getElementById('bonus-progress').style.width = `${progressPercent}%`;
      
      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô
      document.getElementById('daily-goal-status').textContent = `${completed}/${total} ‡∏á‡∏≤‡∏ô`;
      
      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢
      const todayScores = scores.filter(s => s.empId === selectedEmployee.id && s.date === today);
      const timelyCount = todayScores.filter(s => s.breakdown?.timely > 0).length;
      const qualityCount = todayScores.filter(s => s.breakdown?.quality > 0).length;
      
      document.getElementById('goal-1-status').textContent = `${completed}/${total}`;
      document.getElementById('goal-2-status').textContent = `${timelyCount}/5`;
      document.getElementById('goal-3-status').textContent = `${qualityCount}/3`;
      
      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢
      let goalScore = 0;
      if (completed >= 5) goalScore += 30;
      if (timelyCount >= 5) goalScore += 25;
      if (qualityCount >= 3) goalScore += 20;
      
      document.getElementById('daily-goal-score').textContent = `+${goalScore} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô`;
    }
    
    function syncTasks() {
      showLoading('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...');
      
      // ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå
      setTimeout(() => {
        loadEmployeeTasks();
        hideLoading();
        showToast('‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', 'success');
      }, 1000);
    }
    
    // =============================================
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô
    // =============================================
    function openSubmit(taskId) {
      selectedTask = tasks.find(t => t.id === taskId);
      if (!selectedTask) return;
      
      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏á‡∏≤‡∏ô
      document.getElementById('task-name').textContent = selectedTask.name;
      document.getElementById('task-desc').textContent = selectedTask.desc;
      document.getElementById('task-freq').textContent = selectedTask.freq;
      document.getElementById('task-id').textContent = selectedTask.id;
      document.getElementById('task-time').textContent = selectedTask.time || '‡∏ï‡∏•‡∏≠‡∏î‡∏ß‡∏±‡∏ô';
      
      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
      updateScoreCalculation();
      
      // ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°
      resetSubmitForm();
      
      // ‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô
      document.getElementById('submit-screen').classList.remove('hidden');
    }
    
    function updateScoreCalculation() {
      const now = new Date();
      const isTimely = now.getHours() < 16;
      const timelyBonus = isTimely ? SCORE_SYSTEM.QUALITY_BONUSES.ON_TIME : 0;
      const qualityBonus = SCORE_SYSTEM.QUALITY_BONUSES.GOOD_PHOTO;
      
      const basePoints = SCORE_SYSTEM.BASE_SCORES.PER_TASK;
      const totalPoints = basePoints + timelyBonus + qualityBonus;
      
      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
      document.getElementById('bonus-timely').textContent = `+${timelyBonus} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô`;
      document.getElementById('bonus-quality').textContent = `+${qualityBonus} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô`;
      document.getElementById('total-points-preview').textContent = `${totalPoints} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô`;
      document.getElementById('submit-points').textContent = totalPoints;
      document.getElementById('time-bonus-status').textContent = isTimely ? `+${timelyBonus}` : '+0';
      
      updateTotalPointsDisplay();
    }
    
    function updateNoteBonus() {
      const note = document.getElementById('task-note').value.trim();
      const hasNoteBonus = note.length > 10;
      
      document.getElementById('note-bonus').textContent = hasNoteBonus ? 
        `+${SCORE_SYSTEM.QUALITY_BONUSES.GOOD_NOTE} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô` : '+0 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô';
      
      updateTotalPointsDisplay();
    }
    
    function updateTotalPointsDisplay() {
      const basePoints = SCORE_SYSTEM.BASE_SCORES.PER_TASK;
      const now = new Date();
      const isTimely = now.getHours() < 16;
      const timelyBonus = isTimely ? SCORE_SYSTEM.QUALITY_BONUSES.ON_TIME : 0;
      const qualityBonus = SCORE_SYSTEM.QUALITY_BONUSES.GOOD_PHOTO;
      
      const note = document.getElementById('task-note').value.trim();
      const noteBonus = note.length > 10 ? SCORE_SYSTEM.QUALITY_BONUSES.GOOD_NOTE : 0;
      
      const totalPoints = basePoints + timelyBonus + qualityBonus + noteBonus;
      
      document.getElementById('total-points-display').textContent = `${totalPoints} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô`;
    }
    
    function resetSubmitForm() {
      currentImage = null;
      document.getElementById('image-preview').classList.add('hidden');
      document.getElementById('remove-image-btn').classList.add('hidden');
      document.getElementById('upload-placeholder').classList.remove('hidden');
      document.getElementById('file-input').value = '';
      document.getElementById('camera-input').value = '';
      document.getElementById('task-note').value = '';
      document.getElementById('note-bonus').textContent = '+0 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô';
      
      updateNoteBonus();
    }
    
    function closeSubmitScreen() {
      document.getElementById('submit-screen').classList.add('hidden');
    }
    
    function openCamera() {
      document.getElementById('camera-input').click();
    }
    
    function openGallery() {
      document.getElementById('file-input').click();
    }
    
    function previewImage(file) {
      if (!file) return;
      
      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå
      if (file.size > 5 * 1024 * 1024) {
        showToast('‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏ô 5MB ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å‡∏Å‡∏ß‡πà‡∏≤', 'error');
        return;
      }
      
      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÑ‡∏ü‡∏•‡πå
      if (!file.type.startsWith('image/')) {
        showToast('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô', 'error');
        return;
      }
      
      const reader = new FileReader();
      reader.onload = e => {
        document.getElementById('image-preview').src = e.target.result;
        document.getElementById('image-preview').classList.remove('hidden');
        document.getElementById('remove-image-btn').classList.remove('hidden');
        document.getElementById('upload-placeholder').classList.add('hidden');
        document.getElementById('image-overlay').classList.remove('hidden');
        currentImage = e.target.result;
      };
      reader.readAsDataURL(file);
    }
    
    function removeImage(event) {
      event.stopPropagation();
      currentImage = null;
      document.getElementById('image-preview').classList.add('hidden');
      document.getElementById('remove-image-btn').classList.add('hidden');
      document.getElementById('upload-placeholder').classList.remove('hidden');
      document.getElementById('image-overlay').classList.add('hidden');
      document.getElementById('file-input').value = '';
      document.getElementById('camera-input').value = '';
    }
    
    function submitWork() {
      if (!currentImage) {
        showToast('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏ú‡∏•‡∏á‡∏≤‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô', 'error');
        return;
      }
      
      const note = document.getElementById('task-note').value.trim();
      const now = new Date();
      const date = now.toISOString().split('T')[0];
      const timestamp = now.toISOString();
      
      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
      const basePoints = SCORE_SYSTEM.BASE_SCORES.PER_TASK;
      const isTimely = now.getHours() < 16;
      const timelyBonus = isTimely ? SCORE_SYSTEM.QUALITY_BONUSES.ON_TIME : 0;
      const qualityBonus = SCORE_SYSTEM.QUALITY_BONUSES.GOOD_PHOTO;
      const noteBonus = note.length > 10 ? SCORE_SYSTEM.QUALITY_BONUSES.GOOD_NOTE : 0;
      const totalPoints = basePoints + timelyBonus + qualityBonus + noteBonus;
      
      // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
      const scoreEntry = {
        id: `score_${Date.now()}`,
        empId: selectedEmployee.id,
        empName: selectedEmployee.name,
        taskId: selectedTask.id,
        taskName: selectedTask.name,
        date: date,
        timestamp: timestamp,
        points: totalPoints,
        breakdown: {
          base: basePoints,
          timely: timelyBonus,
          quality: qualityBonus,
          note: noteBonus
        }
      };
      
      scores.push(scoreEntry);
      saveToStorage('scores', scores);
      
      // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô
      const submission = {
        id: `sub_${Date.now()}`,
        ...scoreEntry,
        note: note,
        imageSize: currentImage.length
      };
      
      submissions.push(submission);
      saveToStorage('submissions', submissions);
      
      // ‡πÄ‡∏ä‡πá‡∏Ñ‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
      checkAchievements();
      
      // ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
      showToast(`‚úÖ ‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö ${totalPoints} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô`, 'success');
      
      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
      setTimeout(() => {
        closeSubmitScreen();
        updateEmployeeData();
        loadEmployeeTasks();
        renderMiniLeaderboard();
        
        // ‡πÅ‡∏™‡∏î‡∏á‡πÇ‡∏ö‡∏ô‡∏±‡∏™‡∏ñ‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏ï‡πá‡∏°
        if (totalPoints >= 20) {
          setTimeout(() => {
            showToast('üéâ ‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! ‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏ï‡πá‡∏°!', 'success');
          }, 500);
        }
      }, 1500);
    }
    
    function updateEmployeeData() {
      if (!selectedEmployee) return;
      
      const score = calculateEmployeeScore(selectedEmployee.id);
      
      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï UI
      document.getElementById('user-score').textContent = `${score.totalScore} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô`;
      document.getElementById('today-score').textContent = score.todayScore;
      document.getElementById('user-level').textContent = score.level;
      document.getElementById('user-level-badge').textContent = score.level;
      document.getElementById('current-exp').textContent = `${score.exp} EXP`;
      document.getElementById('next-level-exp').textContent = `${score.nextLevelExp} EXP`;
      document.getElementById('score-progress-bar').style.width = `${score.progress}%`;
      
      // ‡πÄ‡∏ä‡πá‡∏Ñ Level Up
      const oldLevel = parseInt(localStorage.getItem(`level_${selectedEmployee.id}`)) || 1;
      if (score.level > oldLevel) {
        localStorage.setItem(`level_${selectedEmployee.id}`, score.level);
        showLevelUp(score.level);
      }
    }
    
    // =============================================
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
    // =============================================
    function calculateEmployeeScore(empId) {
      const empScores = scores.filter(s => s.empId === empId);
      const today = new Date().toISOString().split('T')[0];
      const todayScores = empScores.filter(s => s.date === today);
      
      const totalScore = empScores.reduce((sum, s) => sum + s.points, 0);
      const todayScore = todayScores.reduce((sum, s) => sum + s.points, 0);
      
      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏£‡∏∞‡∏î‡∏±‡∏ö
      let level = 1;
      let exp = totalScore;
      let nextLevelExp = SCORE_SYSTEM.LEVELS[1].exp;
      
      for (let i = SCORE_SYSTEM.LEVELS.length - 1; i >= 0; i--) {
        if (exp >= SCORE_SYSTEM.LEVELS[i].exp) {
          level = SCORE_SYSTEM.LEVELS[i].level;
          nextLevelExp = SCORE_SYSTEM.LEVELS[i + 1]?.exp || SCORE_SYSTEM.LEVELS[i].exp;
          break;
        }
      }
      
      const progress = level < 10 ? 
        Math.min(100, ((exp - SCORE_SYSTEM.LEVELS[level-1].exp) / (nextLevelExp - SCORE_SYSTEM.LEVELS[level-1].exp)) * 100) : 
        100;
      
      return {
        totalScore,
        todayScore,
        level,
        exp,
        nextLevelExp,
        progress
      };
    }
    
    function getEmployeeStats(empId) {
      const empSubmissions = submissions.filter(s => s.empId === empId);
      const empScores = scores.filter(s => s.empId === empId);
      
      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì streak
      const dates = [...new Set(empSubmissions.map(s => s.date))].sort();
      let currentStreak = 0;
      let lastDate = null;
      let perfectDays = 0;
      
      for (let i = dates.length - 1; i >= 0; i--) {
        const currentDate = new Date(dates[i]);
        if (!lastDate) {
          currentStreak = 1;
        } else {
          const diffDays = Math.floor((lastDate - currentDate) / (1000 * 60 * 60 * 24));
          if (diffDays === 1) {
            currentStreak++;
          } else {
            break;
          }
        }
        lastDate = currentDate;
        
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡∏±‡∏ô‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÅ‡∏ö‡∏ö
        const dayTasks = empScores.filter(s => s.date === dates[i]);
        const dayTasksCount = dayTasks.length;
        const totalTasks = tasks.filter(t => t.owner === empId).length;
        if (dayTasksCount >= totalTasks) perfectDays++;
      }
      
      return {
        totalSubmissions: empSubmissions.length,
        totalScore: empScores.reduce((sum, s) => sum + s.points, 0),
        qualityBonuses: empScores.filter(s => s.breakdown?.quality > 0).length,
        noteCount: empSubmissions.filter(s => s.note && s.note.trim().length > 0).length,
        earlySubmissions: empSubmissions.filter(s => {
          const hour = new Date(s.timestamp).getHours();
          return hour < 12;
        }).length,
        currentStreak: currentStreak,
        perfectDays: perfectDays,
        level: calculateEmployeeScore(empId).level,
        weeklyFirstPlace: 0 // ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
      };
    }
    
    // =============================================
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•
    // =============================================
    function calculateEvaluation(empId, period = 'month') {
      const stats = getEmployeeStats(empId);
      const today = new Date();
      
      let periodScores = scores.filter(s => s.empId === empId);
      
      if (period === 'week') {
        const weekAgo = new Date(today.getTime() - 7 * 24 * 60 * 60 * 1000);
        periodScores = periodScores.filter(s => new Date(s.date) >= weekAgo);
      } else if (period === 'month') {
        const monthAgo = new Date(today.getFullYear(), today.getMonth() - 1, today.getDate());
        periodScores = periodScores.filter(s => new Date(s.date) >= monthAgo);
      }
      
      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î
      const totalTasks = tasks.filter(t => t.owner === empId).length * (period === 'week' ? 5 : period === 'month' ? 22 : 1);
      const completedTasks = periodScores.length;
      const onTimeTasks = periodScores.filter(s => s.breakdown?.timely > 0).length;
      const goodQualityTasks = periodScores.filter(s => s.breakdown?.quality > 0).length;
      const tasksWithNotes = periodScores.filter(s => {
        const sub = submissions.find(sub => sub.id === s.id.replace('score_', 'sub_'));
        return sub?.note && sub.note.trim().length > 0;
      }).length;
      
      const scoresDetail = {
        completion: totalTasks > 0 ? (completedTasks / totalTasks) * 100 : 0,
        timeliness: completedTasks > 0 ? (onTimeTasks / completedTasks) * 100 : 0,
        quality: completedTasks > 0 ? (goodQualityTasks / completedTasks) * 100 : 0,
        consistency: Math.min(100, stats.currentStreak * 10),
        communication: completedTasks > 0 ? (tasksWithNotes / completedTasks) * 100 : 0
      };
      
      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°‡∏ñ‡πà‡∏ß‡∏á‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å
      let totalScore = 0;
      Object.keys(SCORE_SYSTEM.EVALUATION.CRITERIA).forEach(key => {
        const criteria = SCORE_SYSTEM.EVALUATION.CRITERIA[key];
        totalScore += (scoresDetail[key.toLowerCase()] / 100) * 100 * criteria.weight;
      });
      
      totalScore = Math.round(totalScore);
      
      // ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏Å‡∏£‡∏î
      const grade = getGradeFromScore(totalScore);
      const gradeInfo = SCORE_SYSTEM.EVALUATION.GRADES[grade];
      
      // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô
      const evaluation = {
        empId: empId,
        period: period,
        date: today.toISOString().split('T')[0],
        totalScore: totalScore,
        grade: grade,
        details: scoresDetail,
        createdAt: today.toISOString()
      };
      
      // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡∏≠‡∏á period ‡∏ô‡∏µ‡πâ
      const existingIndex = evaluations.findIndex(e => 
        e.empId === empId && e.period === period && e.date === evaluation.date
      );
      
      if (existingIndex === -1) {
        evaluations.push(evaluation);
        saveToStorage('evaluations', evaluations);
      }
      
      return {
        totalScore,
        grade,
        gradeLabel: gradeInfo.label,
        gradeColor: gradeInfo.color,
        details: scoresDetail
      };
    }
    
    function getGradeFromScore(score) {
      if (score >= 90) return 'A';
      if (score >= 80) return 'B';
      if (score >= 70) return 'C';
      if (score >= 60) return 'D';
      return 'F';
    }
    
    // =============================================
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•
    // =============================================
    function openEvaluation() {
      if (!selectedEmployee) return;
      
      const evaluation = calculateEvaluation(selectedEmployee.id, 'month');
      
      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
      updateScoreScreen(evaluation);
      
      document.getElementById('dashboard-screen').classList.add('hidden');
      document.getElementById('score-screen').classList.remove('hidden');
    }
    
    function updateScoreScreen(evaluation) {
      if (!selectedEmployee) return;
      
      const score = calculateEmployeeScore(selectedEmployee.id);
      const today = new Date().toISOString().split('T')[0];
      const todayScores = scores.filter(s => s.empId === selectedEmployee.id && s.date === today);
      const todayBreakdown = todayScores.reduce((acc, s) => {
        acc.base += s.breakdown?.base || 0;
        acc.timely += s.breakdown?.timely || 0;
        acc.quality += s.breakdown?.quality || 0;
        acc.note += s.breakdown?.note || 0;
        return acc;
      }, { base: 0, timely: 0, quality: 0, note: 0 });
      
      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå
      document.getElementById('score-user-name').textContent = selectedEmployee.name;
      document.getElementById('score-user-id').textContent = `‡∏£‡∏´‡∏±‡∏™: ${selectedEmployee.id}`;
      document.getElementById('total-score-display').textContent = score.totalScore;
      document.getElementById('current-level').textContent = score.level;
      document.getElementById('level-badge').textContent = score.level;
      document.getElementById('current-exp-display').textContent = score.exp;
      document.getElementById('next-level-exp-display').textContent = score.nextLevelExp;
      document.getElementById('exp-to-next').textContent = score.nextLevelExp - score.exp;
      document.getElementById('level-progress-bar').style.width = `${score.progress}%`;
      
      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô
      document.getElementById('evaluation-score').textContent = evaluation.totalScore;
      document.getElementById('evaluation-progress').style.width = `${evaluation.totalScore}%`;
      document.getElementById('evaluation-grade').textContent = evaluation.grade;
      document.getElementById('evaluation-grade').className = `text-2xl font-bold grade-${evaluation.grade.toLowerCase()}`;
      document.getElementById('evaluation-level').textContent = score.level;
      
      // ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ
      document.getElementById('today-score-detail').textContent = score.todayScore;
      const totalTasks = tasks.filter(t => t.owner === selectedEmployee.id).length;
      document.getElementById('today-completed').textContent = `${todayScores.length}/${totalTasks}`;
      document.getElementById('today-total').textContent = totalTasks;
      document.getElementById('base-points-today').textContent = todayBreakdown.base;
      document.getElementById('timely-bonus-today').textContent = `+${todayBreakdown.timely}`;
      document.getElementById('quality-bonus-today').textContent = `+${todayBreakdown.quality}`;
      document.getElementById('note-bonus-today').textContent = `+${todayBreakdown.note}`;
      document.getElementById('total-today').textContent = `${score.todayScore} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô`;
      
      // ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ô‡∏µ‡πâ
      updateWeeklyStats();
      
      // ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
      renderAchievements();
      
      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö
      updateRankInfo();
    }
    
    function updateWeeklyStats() {
      if (!selectedEmployee) return;
      
      const now = new Date();
      const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);
      const weekScores = scores.filter(s => 
        s.empId === selectedEmployee.id && 
        new Date(s.date) >= weekAgo
      );
      
      const weeklyTotal = weekScores.reduce((sum, s) => sum + s.points, 0);
      const weeklyGoal = SCORE_SYSTEM.EVALUATION.WEEKLY_GOAL;
      
      document.getElementById('weekly-total').textContent = weeklyTotal;
      document.getElementById('weekly-goal').textContent = weeklyGoal;
      document.getElementById('weekly-progress').style.width = `${Math.min(100, (weeklyTotal / weeklyGoal) * 100)}%`;
      
      // ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ß‡∏±‡∏ô
      const days = ['‡∏≠‡∏≤', '‡∏à', '‡∏≠', '‡∏û', '‡∏û‡∏§', '‡∏®', '‡∏™'];
      for (let i = 0; i < 7; i++) {
        const date = new Date(now.getTime() - i * 24 * 60 * 60 * 1000);
        const dateStr = date.toISOString().split('T')[0];
        const dayScores = scores.filter(s => 
          s.empId === selectedEmployee.id && 
          s.date === dateStr
        );
        const dayTotal = dayScores.reduce((sum, s) => sum + s.points, 0);
        
        document.getElementById(`day-${i+1}`).textContent = dayTotal;
      }
    }
    
    function updateRankInfo() {
      if (!selectedEmployee) return;
      
      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°
      const allScores = employees.map(emp => {
        const score = calculateEmployeeScore(emp.id);
        return { empId: emp.id, totalScore: score.totalScore };
      }).sort((a, b) => b.totalScore - a.totalScore);
      
      const userRank = allScores.findIndex(s => s.empId === selectedEmployee.id) + 1;
      const totalEmployees = allScores.length;
      
      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô
      const empScores = scores.filter(s => s.empId === selectedEmployee.id);
      const dates = [...new Set(empScores.map(s => s.date))];
      const avgScore = dates.length > 0 ? 
        Math.round(empScores.reduce((sum, s) => sum + s.points, 0) / dates.length) : 0;
      
      document.getElementById('user-rank').textContent = userRank > 0 ? userRank : '-';
      document.getElementById('total-employees').textContent = totalEmployees;
      document.getElementById('avg-score').textContent = avgScore;
      document.getElementById('total-completed').textContent = empScores.length;
    }
    
    function closeScoreScreen() {
      document.getElementById('score-screen').classList.add('hidden');
      document.getElementById('dashboard-screen').classList.remove('hidden');
    }
    
    // =============================================
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
    // =============================================
    function checkAchievements() {
      if (!selectedEmployee) return;
      
      const user = getEmployeeStats(selectedEmployee.id);
      const newAchievements = [];
      
      SCORE_SYSTEM.ACHIEVEMENTS.forEach(achievement => {
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
        const hasAchievement = achievements.some(a => 
          a.empId === selectedEmployee.id && a.id === achievement.id
        );
        
        if (!hasAchievement && achievement.condition(user)) {
          // ‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÉ‡∏´‡∏°‡πà
          const newAchievement = {
            id: achievement.id,
            empId: selectedEmployee.id,
            empName: selectedEmployee.name,
            title: achievement.title,
            desc: achievement.desc,
            icon: achievement.icon,
            points: achievement.points,
            unlockedAt: new Date().toISOString()
          };
          
          achievements.push(newAchievement);
          newAchievements.push(newAchievement);
          
          // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
          const scoreEntry = {
            id: `ach_${Date.now()}`,
            empId: selectedEmployee.id,
            empName: selectedEmployee.name,
            taskId: 'ACHIEVEMENT',
            taskName: achievement.title,
            date: new Date().toISOString().split('T')[0],
            timestamp: new Date().toISOString(),
            points: achievement.points,
            breakdown: {
              base: achievement.points,
              timely: 0,
              quality: 0,
              note: 0
            }
          };
          
          scores.push(scoreEntry);
          saveToStorage('scores', scores);
        }
      });
      
      if (newAchievements.length > 0) {
        saveToStorage('achievements', achievements);
        
        // ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏£‡∏Å
        showAchievement(newAchievements[0]);
        
        // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
        updateEmployeeData();
      }
    }
    
    function showAchievement(achievement) {
      document.getElementById('achievement-icon').textContent = achievement.icon;
      document.getElementById('achievement-title').textContent = achievement.title;
      document.getElementById('achievement-desc').textContent = achievement.desc;
      document.getElementById('achievement-points').textContent = `+${achievement.points} ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô`;
      document.getElementById('achievement-popup').classList.remove('hidden');
    }
    
    function closeAchievement() {
      document.getElementById('achievement-popup').classList.add('hidden');
    }
    
    function renderAchievements() {
      const container = document.getElementById('achievements-list');
      const empty = document.getElementById('no-achievements');
      
      const userAchievements = achievements.filter(a => a.empId === selectedEmployee.id)
        .sort((a, b) => new Date(b.unlockedAt) - new Date(a.unlockedAt));
      
      if (userAchievements.length === 0) {
        container.innerHTML = '';
        empty.classList.remove('hidden');
        return;
      }
      
      empty.classList.add('hidden');
      container.innerHTML = '';
      
      userAchievements.forEach(achievement => {
        const div = document.createElement('div');
        div.className = 'flex items-center p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition';
        
        div.innerHTML = `
          <div class="w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mr-3 text-xl shadow">
            ${achievement.icon}
          </div>
          <div class="flex-1">
            <div class="font-bold text-gray-800">${achievement.title}</div>
            <div class="text-sm text-gray-600">${achievement.desc}</div>
            <div class="text-xs text-gray-500 mt-1">
              <i class="fas fa-calendar mr-1"></i>
              ${new Date(achievement.unlockedAt).toLocaleDateString('th-TH')}
            </div>
          </div>
          <div class="text-right">
            <div class="font-bold text-yellow-600">+${achievement.points}</div>
            <div class="text-xs text-gray-500">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
          </div>
        `;
        
        container.appendChild(div);
      });
    }
    
    // =============================================
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô Level Up
    // =============================================
    function showLevelUp(newLevel) {
      const levelInfo = SCORE_SYSTEM.LEVELS.find(l => l.level === newLevel);
      document.getElementById('level-up-message').textContent = 
        `‡∏Ñ‡∏∏‡∏ì‡∏Ç‡∏∂‡πâ‡∏ô‡∏ñ‡∏∂‡∏á‡∏£‡∏∞‡∏î‡∏±‡∏ö ${newLevel}: ${levelInfo.title}`;
      document.getElementById('new-level').textContent = `Level ${newLevel}`;
      document.getElementById('level-up-celebration').classList.remove('hidden');
    }
    
    function closeLevelUp() {
      document.getElementById('level-up-celebration').classList.add('hidden');
    }
    
    // =============================================
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
    // =============================================
    function openLeaderboard() {
      updateLeaderboard();
      document.getElementById('home-screen').classList.add('hidden');
      document.getElementById('dashboard-screen').classList.add('hidden');
      document.getElementById('leaderboard-screen').classList.remove('hidden');
    }
    
    function closeLeaderboard() {
      document.getElementById('leaderboard-screen').classList.add('hidden');
      if (selectedEmployee) {
        document.getElementById('dashboard-screen').classList.remove('hidden');
      } else {
        document.getElementById('home-screen').classList.remove('hidden');
      }
    }
    
    function changeLeaderboardPeriod(period) {
      leaderboardPeriod = period;
      
      // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏õ‡∏∏‡πà‡∏°
      document.getElementById('lb-daily').className = period === 'daily' ? 
        'text-xs bg-white/30 px-3 py-1.5 rounded-lg font-medium' : 
        'text-xs bg-white/10 px-3 py-1.5 rounded-lg font-medium hover:bg-white/20';
      document.getElementById('lb-weekly').className = period === 'weekly' ? 
        'text-xs bg-white/30 px-3 py-1.5 rounded-lg font-medium' : 
        'text-xs bg-white/10 px-3 py-1.5 rounded-lg font-medium hover:bg-white/20';
      document.getElementById('lb-monthly').className = period === 'monthly' ? 
        'text-xs bg-white/30 px-3 py-1.5 rounded-lg font-medium' : 
        'text-xs bg-white/10 px-3 py-1.5 rounded-lg font-medium hover:bg-white/20';
      
      updateLeaderboard();
    }
    
    function updateLeaderboard() {
      const today = new Date().toISOString().split('T')[0];
      const now = new Date();
      
      let filteredScores = [];
      let periodLabel = '';
      
      if (leaderboardPeriod === 'daily') {
        filteredScores = scores.filter(s => s.date === today);
        periodLabel = '‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ';
      } else if (leaderboardPeriod === 'weekly') {
        const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);
        filteredScores = scores.filter(s => new Date(s.date) >= weekAgo);
        periodLabel = '‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ô‡∏µ‡πâ';
      } else {
        const monthAgo = new Date(now.getFullYear(), now.getMonth() - 1, now.getDate());
        filteredScores = scores.filter(s => new Date(s.date) >= monthAgo);
        periodLabel = '‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ';
      }
      
      // ‡∏£‡∏ß‡∏°‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ï‡∏≤‡∏°‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô
      const scoreMap = new Map();
      filteredScores.forEach(score => {
        const current = scoreMap.get(score.empId) || 0;
        scoreMap.set(score.empId, current + score.points);
      });
      
      // ‡∏™‡∏£‡πâ‡∏≤‡∏á leaderboard
      const leaderboardData = Array.from(scoreMap.entries()).map(([empId, points]) => {
        const emp = employees.find(e => e.id === empId);
        return {
          empId,
          empName: emp ? emp.name : '‡πÑ‡∏°‡πà‡∏ó‡∏£‡∏≤‡∏ö',
          points,
          level: calculateEmployeeScore(empId).level
        };
      }).sort((a, b) => b.points - a.points);
      
      renderLeaderboard(leaderboardData, periodLabel);
    }
    
    function renderLeaderboard(leaderboardData, periodLabel) {
      const list = document.getElementById('leaderboard-list');
      const empty = document.getElementById('leaderboard-empty');
      const userCard = document.getElementById('user-position-card');
      const totalEmployees = document.getElementById('total-employees');
      
      if (leaderboardData.length === 0) {
        list.innerHTML = '';
        empty.classList.remove('hidden');
        userCard.classList.add('hidden');
        totalEmployees.textContent = employees.length;
        return;
      }
      
      empty.classList.add('hidden');
      list.innerHTML = '';
      
      // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï Top 3
      if (leaderboardData[0]) {
        document.getElementById('first-place-name').textContent = 
          leaderboardData[0].empName.split(' ').pop();
        document.getElementById('first-place-score').textContent = leaderboardData[0].points;
      }
      
      if (leaderboardData[1]) {
        document.getElementById('second-place-name').textContent = 
          leaderboardData[1].empName.split(' ').pop();
        document.getElementById('second-place-score').textContent = leaderboardData[1].points;
      }
      
      if (leaderboardData[2]) {
        document.getElementById('third-place-name').textContent = 
          leaderboardData[2].empName.split(' ').pop();
        document.getElementById('third-place-score').textContent = leaderboardData[2].points;
      }
      
      // ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
      leaderboardData.forEach((emp, index) => {
        const isCurrentUser = selectedEmployee && emp.empId === selectedEmployee.id;
        
        const div = document.createElement('div');
        div.className = `p-4 flex items-center transition ${isCurrentUser ? 'bg-blue-50' : 'hover:bg-gray-50'}`;
        
        div.innerHTML = `
          <div class="flex items-center flex-1">
            <div class="w-10 text-center font-bold ${index < 3 ? 'text-xl' : 'text-gray-500'}">
              ${index + 1}
            </div>
            <div class="w-10 h-10 ${isCurrentUser ? 'bg-blue-100' : 'bg-gray-100'} 
                 rounded-full flex items-center justify-center mx-3 border ${isCurrentUser ? 'border-blue-300' : 'border-gray-300'}">
              <i class="fa-solid fa-user ${isCurrentUser ? 'text-blue-600' : 'text-gray-500'}"></i>
            </div>
            <div class="flex-1">
              <div class="font-medium ${isCurrentUser ? 'text-blue-600' : 'text-gray-800'} truncate">
                ${emp.empName}
              </div>
              <div class="text-xs text-gray-500">‡∏£‡∏∞‡∏î‡∏±‡∏ö ${emp.level}</div>
            </div>
            <div class="text-right">
              <div class="font-bold ${isCurrentUser ? 'text-blue-600' : 'text-gray-800'}">
                ${emp.points}
              </div>
              <div class="text-xs text-gray-500">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
            </div>
          </div>
        `;
        
        list.appendChild(div);
      });
      
      // ‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏Ç‡∏≠‡∏á user ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
      if (selectedEmployee) {
        const userIndex = leaderboardData.findIndex(emp => emp.empId === selectedEmployee.id);
        if (userIndex !== -1) {
          const userEmp = leaderboardData[userIndex];
          document.getElementById('user-lb-name').textContent = userEmp.empName;
          document.getElementById('user-lb-rank').textContent = userIndex + 1;
          document.getElementById('user-lb-score').textContent = userEmp.points;
          userCard.classList.remove('hidden');
        } else {
          userCard.classList.add('hidden');
        }
      }
      
      // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÄ‡∏ß‡∏•‡∏≤‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
      const now = new Date();
      document.getElementById('leaderboard-updated').textContent = 
        `${periodLabel} ${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
      
      totalEmployees.textContent = leaderboardData.length;
    }
    
    // =============================================
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•
    // =============================================
    function openEvaluationReport() {
      if (!selectedEmployee) return;
      
      const evaluation = calculateEvaluation(selectedEmployee.id, 'month');
      const stats = getEmployeeStats(selectedEmployee.id);
      const score = calculateEmployeeScore(selectedEmployee.id);
      
      const now = new Date();
      const thaiMonths = ['‡∏°‡∏Å‡∏£‡∏≤‡∏Ñ‡∏°', '‡∏Å‡∏∏‡∏°‡∏†‡∏≤‡∏û‡∏±‡∏ô‡∏ò‡πå', '‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°', '‡πÄ‡∏°‡∏©‡∏≤‡∏¢‡∏ô', '‡∏û‡∏§‡∏©‡∏†‡∏≤‡∏Ñ‡∏°', '‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô', 
                         '‡∏Å‡∏£‡∏Å‡∏é‡∏≤‡∏Ñ‡∏°', '‡∏™‡∏¥‡∏á‡∏´‡∏≤‡∏Ñ‡∏°', '‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô', '‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏°', '‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô', '‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏°'];
      const month = thaiMonths[now.getMonth()];
      const year = now.getFullYear() + 543;
      
      document.getElementById('evaluation-period').textContent = `‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ${month} ${year}`;
      
      const content = `
        <div class="space-y-6">
          <!-- Header -->
          <div class="text-center mb-6">
            <h1 class="text-2xl font-bold text-gray-800">‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</h1>
            <p class="text-gray-600">${selectedEmployee.name} (${selectedEmployee.id})</p>
            <p class="text-sm text-gray-500">${month} ${year}</p>
          </div>
          
          <!-- Summary -->
          <div class="bg-gradient-to-r from-blue-50 to-blue-100 p-5 rounded-xl border border-blue-200">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
              <div class="text-center">
                <div class="text-sm text-gray-600">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°</div>
                <div class="text-2xl font-bold text-blue-600">${score.totalScore}</div>
              </div>
              <div class="text-center">
                <div class="text-sm text-gray-600">‡∏£‡∏∞‡∏î‡∏±‡∏ö</div>
                <div class="text-2xl font-bold" style="color: ${SCORE_SYSTEM.LEVELS[score.level-1].color}">
                  ${score.level}
                </div>
              </div>
              <div class="text-center">
                <div class="text-sm text-gray-600">‡πÄ‡∏Å‡∏£‡∏î‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</div>
                <div class="text-2xl font-bold" style="color: ${evaluation.gradeColor}">
                  ${evaluation.grade} (${evaluation.totalScore}%)
                </div>
              </div>
              <div class="text-center">
                <div class="text-sm text-gray-600">‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</div>
                <div class="text-2xl font-bold text-green-600">${stats.totalSubmissions}</div>
              </div>
            </div>
          </div>
          
          <!-- Evaluation Details -->
          <div class="bg-white p-5 rounded-xl border border-gray-200">
            <h3 class="font-bold text-gray-800 mb-4">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</h3>
            
            <div class="space-y-4">
              ${Object.entries(evaluation.details).map(([key, value]) => {
                const criteria = SCORE_SYSTEM.EVALUATION.CRITERIA[key.toUpperCase()];
                const weight = criteria ? criteria.weight * 100 : 0;
                const scoreValue = Math.round(value);
                
                return `
                  <div>
                    <div class="flex justify-between items-center mb-1">
                      <span class="text-gray-700">${criteria?.label || key}</span>
                      <span class="font-bold ${getScoreColorClass(scoreValue)}">${scoreValue}%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                      <div class="h-2 rounded-full ${getScoreColorClass(scoreValue, true)}" style="width: ${scoreValue}%"></div>
                    </div>
                    <div class="text-xs text-gray-500 mt-1">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å ${weight}%</div>
                  </div>
                `;
              }).join('')}
            </div>
          </div>
          
          <!-- Recommendations -->
          <div class="bg-yellow-50 p-5 rounded-xl border border-yellow-200">
            <h3 class="font-bold text-gray-800 mb-3 flex items-center">
              <i class="fas fa-lightbulb text-yellow-500 mr-2"></i> ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞
            </h3>
            
            <div class="space-y-2">
              ${getRecommendations(evaluation.details).map(rec => `
                <div class="flex items-start">
                  <i class="fas fa-check text-green-500 mt-1 mr-2"></i>
                  <span class="text-gray-700">${rec}</span>
                </div>
              `).join('')}
            </div>
          </div>
          
          <!-- Signature -->
          <div class="pt-6 border-t border-gray-200">
            <div class="flex justify-between">
              <div>
                <div class="text-center mb-8">
                  <div class="border-t border-gray-400 w-48 mt-8"></div>
                  <p class="text-sm text-gray-600 mt-2">‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</p>
                </div>
              </div>
              <div>
                <div class="text-center mb-8">
                  <div class="border-t border-gray-400 w-48 mt-8"></div>
                  <p class="text-sm text-gray-600 mt-2">‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô</p>
                </div>
              </div>
            </div>
            <p class="text-xs text-gray-500 text-center">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô: ${new Date().toLocaleDateString('th-TH')}</p>
          </div>
        </div>
      `;
      
      document.getElementById('evaluation-content').innerHTML = content;
      document.getElementById('evaluation-modal').classList.remove('hidden');
    }
    
    function getScoreColorClass(score, isBg = false) {
      if (score >= 90) return isBg ? 'bg-green-500' : 'text-green-600';
      if (score >= 80) return isBg ? 'bg-blue-500' : 'text-blue-600';
      if (score >= 70) return isBg ? 'bg-yellow-500' : 'text-yellow-600';
      if (score >= 60) return isBg ? 'bg-orange-500' : 'text-orange-600';
      return isBg ? 'bg-red-500' : 'text-red-600';
    }
    
    function getRecommendations(details) {
      const recs = [];
      
      if (details.completion < 80) {
        recs.push('‡∏Ñ‡∏ß‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô');
      }
      
      if (details.timeliness < 80) {
        recs.push('‡∏Ñ‡∏ß‡∏£‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏´‡πâ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡πÄ‡∏ß‡∏•‡∏≤');
      }
      
      if (details.quality < 80) {
        recs.push('‡∏Ñ‡∏ß‡∏£‡πÉ‡∏™‡πà‡πÉ‡∏à‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏á‡∏≤‡∏ô‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô');
      }
      
      if (details.consistency < 50) {
        recs.push('‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á');
      }
      
      if (details.communication < 50) {
        recs.push('‡∏Ñ‡∏ß‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô');
      }
      
      if (recs.length === 0) {
        recs.push('‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏° ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡πâ');
      }
      
      return recs;
    }
    
    function printEvaluation() {
      window.print();
    }
    
    function closeEvaluation() {
      document.getElementById('evaluation-modal').classList.add('hidden');
    }

    function showToast(message, type = 'info') {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      
      let bgColor = 'bg-blue-500';
      if (type === 'success') bgColor = 'bg-green-500';
      if (type === 'error') bgColor = 'bg-red-500';
      if (type === 'warning') bgColor = 'bg-yellow-500';
      
      toast.className = `toast ${bgColor}`;
      toast.classList.remove('hidden');
      
      setTimeout(() => {
        toast.classList.add('hidden');
      }, 3000);
    }
    document.addEventListener('DOMContentLoaded', function() {
      init();
    });
    
    // ‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô fullscreen
    function toggleFullScreen() {
      if (!document.fullscreenElement) {
        document.documentElement.requestFullscreen().catch(err => {
          console.log(`Error attempting to enable full-screen mode: ${err.message}`);
        });
      } else {
        if (document.exitFullscreen) {
          document.exitFullscreen();
        }
      }
    }
    
    // ‡∏ï‡∏±‡∏ß‡∏ä‡πà‡∏ß‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà
    Date.prototype.addDays = function(days) {
      const date = new Date(this.valueOf());
      date.setDate(date.getDate() + days);
      return date;
    };
    
    // ‡∏ï‡∏±‡∏ß‡∏ä‡πà‡∏ß‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç
    function formatNumber(num) {
      return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
    }
  </script>
</body>
</html>